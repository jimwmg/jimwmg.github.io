<!doctype html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="keep fighting！">
<meta property="og:type" content="website">
<meta property="og:title" content="JiM-W">
<meta property="og:url" content="http://yoursite.com/page/6/index.html">
<meta property="og:site_name" content="JiM-W">
<meta property="og:description" content="keep fighting！">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="JiM-W">
<meta name="twitter:description" content="keep fighting！">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/page/6/"/>





  <title> JiM-W </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  














  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">JiM-W</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">keep Moving</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/11/29/72-typeof instance 以及null undefined区别/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="JiM-W">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JiM-W">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/11/29/72-typeof instance 以及null undefined区别/" itemprop="url">
                  the difference between null and undefined
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-11-29T12:36:00+08:00">
                2016-11-29
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/javascript/" itemprop="url" rel="index">
                    <span itemprop="name">javascript</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="1-typeof的使用-这是一个运算符，不是方法"><a href="#1-typeof的使用-这是一个运算符，不是方法" class="headerlink" title="1 typeof的使用;这是一个运算符，不是方法"></a>1 typeof的使用;这是一个运算符，不是方法</h3><p>1.1检测数据类型，返回的结果是一个字符串类型。有六种可能：number boolean string  object function undefined</p>
<p>注意typeof(null) 返回的是 : object </p>
<p> typeof 运算符来判断一个值是否在某种类型的范围内。可以用这种运算符判断一个值是否表示一种原始类型：如果它是原始类型，还可以判断它表示哪种原始类型。ECMAScript 有 5 种原始类型（primitive type），即 Undefined、Null、Boolean、Number 和 String</p>
<p>1.1.1 在ES6 之前，typeof可以随心所欲的时候，基本上不会报错</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> a);<span class="comment">//undefined   即使 a 在之前为进行任何的声明</span></div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log( a);<span class="comment">//a is not defined  报错</span></div></pre></td></tr></table></figure>
<p>1.1.2 但是在ES6 之后引入了let和const之后 typeof 就需要掂量一下自己咯,let声明的变量，在所声明的作用域中，<strong>必须在使用之前进行声明</strong>  ，其实这是一个好的趋势，可以形成严谨良好的编程习惯；</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> a);<span class="comment">//Uncaught ReferenceError: a is not defined</span></div><div class="line">   <span class="keyword">let</span> a;</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> a;				</div><div class="line">  <span class="built_in">console</span>.log(<span class="keyword">typeof</span> a);<span class="comment">//undefined</span></div></pre></td></tr></table></figure>
<p>1.2  typeof 可以用于<strong>被声明</strong> 或者<strong>未被声明</strong> 的变量；但是<strong>未被声明</strong> 的变量不能用其他运算符运算，之外的其他运算符的话，会引起错误，因为其他运算符只能用于已声明的变量上。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line">    <span class="keyword">var</span> exp1 ;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">typeof</span> exp1);<span class="comment">//undefined</span></div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">typeof</span> exp2);<span class="comment">//undefined</span></div><div class="line">    <span class="built_in">console</span>.log(exp1 == <span class="literal">undefined</span>);<span class="comment">//true   </span></div><div class="line">    <span class="built_in">console</span>.log(exp2 == <span class="literal">undefined</span>);<span class="comment">//报错</span></div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">typeof</span> exp1 == <span class="string">'undefined'</span>);<span class="comment">//true</span></div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">typeof</span> exp2 == <span class="string">'undefined'</span>);<span class="comment">//true  typeof运算符可以用于未被声明的变量</span></div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<p>1.3 对于基本数据类型(Number Boolean String null  undefined) 以及引用类型 object的typeof值 </p>
<p>1.3.1类 : Object Function Array String Boolean Number Date ；这些未初始化为实例的类的typeof类型为function</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span> (<span class="params"></span>)</span>&#123;       &#125;</div><div class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>);<span class="comment">//function Object() &#123; [native code] &#125;</span></div><div class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="built_in">Object</span>);<span class="comment">//function</span></div><div class="line"><span class="built_in">console</span>.log(<span class="built_in">Array</span>);<span class="comment">//function Array() &#123; [native code] &#125;</span></div><div class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="built_in">Array</span>);<span class="comment">//function</span></div><div class="line"><span class="built_in">console</span>.log(<span class="built_in">Function</span>);<span class="comment">//function Function() &#123; [native code] &#125;</span></div><div class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="built_in">Function</span>);<span class="comment">//function</span></div><div class="line"><span class="built_in">console</span>.log(<span class="built_in">String</span>);<span class="comment">//function String() &#123; [native code] &#125;</span></div><div class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="built_in">String</span>);<span class="comment">//function</span></div><div class="line"><span class="built_in">console</span>.log(test);<span class="comment">//function test()&#123;   &#125;</span></div><div class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> test);<span class="comment">//function</span></div></pre></td></tr></table></figure>
<p>1.3.2 对象的创建方式是用关键字 new 后面跟上实例化的类的名字，当将一个函数通过new实例化之后，那么就创建了一个对象</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span> (<span class="params"></span>)</span>&#123;       &#125;  </div><div class="line"><span class="keyword">var</span> obj = <span class="keyword">new</span> test();</div><div class="line">   <span class="built_in">console</span>.log(obj.constructor);<span class="comment">//function test()&#123;&#125;</span></div><div class="line">   <span class="built_in">console</span>.log(obj);<span class="comment">//test｛｝</span></div><div class="line">   <span class="built_in">console</span>.log(<span class="keyword">typeof</span> obj);<span class="comment">//Object</span></div><div class="line"></div><div class="line">   <span class="keyword">var</span> obj1 = <span class="keyword">new</span> <span class="built_in">Array</span>();</div><div class="line">   <span class="built_in">console</span>.log(obj1.constructor);<span class="comment">//function Array() &#123; [native code] &#125;</span></div><div class="line">   <span class="built_in">console</span>.log(obj1);<span class="comment">//[]</span></div><div class="line">   <span class="built_in">console</span>.log(<span class="keyword">typeof</span> obj1);<span class="comment">//Object</span></div><div class="line"></div><div class="line">   <span class="keyword">var</span> obj2 = <span class="keyword">new</span> <span class="built_in">Function</span>();</div><div class="line">   <span class="built_in">console</span>.log(obj2.constructor);<span class="comment">//function Function() &#123; [native code] &#125;</span></div><div class="line">   <span class="built_in">console</span>.log(obj2);<span class="comment">//function anonymous() &#123;&#125;</span></div><div class="line">   <span class="built_in">console</span>.log(<span class="keyword">typeof</span> obj2);<span class="comment">//function</span></div><div class="line"></div><div class="line">   <span class="keyword">var</span> obj3 = <span class="keyword">new</span> <span class="built_in">String</span>();</div><div class="line">   <span class="built_in">console</span>.log(obj3.constructor);<span class="comment">//function String() &#123; [native code] &#125;</span></div><div class="line">   <span class="built_in">console</span>.log(obj3);<span class="comment">//String &#123;length: 0, [[PrimitiveValue]]: ""&#125;</span></div><div class="line">   <span class="built_in">console</span>.log(<span class="keyword">typeof</span> obj3);<span class="comment">//object</span></div><div class="line"></div><div class="line">   <span class="keyword">var</span> obj4 = <span class="keyword">new</span> <span class="built_in">Object</span>();</div><div class="line">   <span class="built_in">console</span>.log(obj4.constructor);<span class="comment">//function Object() &#123; [native code] &#125;</span></div><div class="line">   <span class="built_in">console</span>.log(obj4);<span class="comment">//Object &#123;&#125;</span></div><div class="line">   <span class="built_in">console</span>.log(<span class="keyword">typeof</span> obj4);<span class="comment">//object</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> obj5 = <span class="keyword">new</span> <span class="built_in">Date</span>();</div><div class="line">   <span class="built_in">console</span>.log(obj5.constructor);<span class="comment">//function Date() &#123; [native code] &#125;</span></div><div class="line">   <span class="built_in">console</span>.log(obj5);<span class="comment">//Tue Feb 28 2017 21:13:36 GMT+0800 (中国标准时间) //当前的时间 </span></div><div class="line">   <span class="built_in">console</span>.log(<span class="keyword">typeof</span> obj5);<span class="comment">//object</span></div></pre></td></tr></table></figure>
<p>1.3.3 基本数据类型的typeof的值</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line">    <span class="keyword">var</span> func = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="string">"你好"</span>);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">var</span> obj = &#123;<span class="string">"name"</span>:<span class="string">"john"</span>&#125;;  		</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="number">5</span>);			<span class="comment">//number</span></div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="string">'name'</span>);		<span class="comment">//string</span></div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="literal">false</span>);		<span class="comment">//boolean</span></div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="literal">null</span>);		<span class="comment">// object</span></div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">typeof</span> <span class="literal">undefined</span>);	<span class="comment">// undefined</span></div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">typeof</span> func);		<span class="comment">// object</span></div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">typeof</span> obj);		<span class="comment">// object</span></div><div class="line"><span class="comment">//所有的返回值的类型都会 字符串  类型，注意都是小写字母；但是有一点缺陷就是函数和对象以及DOM对象返回的值都是object,所以typeof用来监测数据类型的时候，如果监测基本数据类型还比较可靠，但是监测对象的时候却无太大作用。</span></div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<p>1.3.5 通过上面分析我们发现typeof可以判断基本数据类型，但是对于复杂数据类型，返回都是object，那么如何检测object的”类”呢？也就是说，如何检测一个对象是由哪个构造函数创建的呢？</p>
<p>这个时候就要用到 instanceof 了；语法: obj instanceof Type ,会沿着对象的原型链一层层的找，如果找到由Type类型的构造函数,则返回true，否则返回false；</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">	<span class="function"><span class="keyword">function</span> <span class="title">test</span> (<span class="params"></span>)</span>&#123;       &#125;</div><div class="line">    <span class="keyword">var</span> obj = <span class="keyword">new</span> test();</div><div class="line">    <span class="built_in">console</span>.log(obj.constructor);<span class="comment">//function test()&#123;&#125;</span></div><div class="line">    <span class="built_in">console</span>.log(obj);<span class="comment">//test｛｝</span></div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">typeof</span> obj);<span class="comment">//Object</span></div><div class="line">    <span class="built_in">console</span>.log(obj <span class="keyword">instanceof</span> test);<span class="comment">//true </span></div><div class="line"><span class="comment">//表示obj对象是test这个构造函数产生的 obj.__proto__ = test.prototype ;</span></div><div class="line"><span class="comment">//obj的原型上__proto__ 指向test.prototype</span></div><div class="line">	<span class="built_in">console</span>.log(obj <span class="keyword">instanceof</span> <span class="built_in">Object</span>);<span class="comment">//true</span></div></pre></td></tr></table></figure>
<p>1.3.6 或者可以直接调用Object.prototype.toString.call(obj) 来判断obj到底是哪个类型的内置对象</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.prototype.toString.call(<span class="literal">true</span>));<span class="comment">//[object Boolean]</span></div><div class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.prototype.toString.call(<span class="number">1</span>,<span class="number">2</span>)); <span class="comment">//[object Number]</span></div><div class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.prototype.toString.call(<span class="literal">null</span>));<span class="comment">//[object Null]</span></div><div class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.prototype.toString.call(<span class="literal">undefined</span>));<span class="comment">//[object Undefined]</span></div><div class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.prototype.toString.call(<span class="string">"str"</span>));<span class="comment">//[object String]</span></div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.prototype.toString.call([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]));<span class="comment">//[object Array]</span></div><div class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.prototype.toString.call(&#123;<span class="attr">name</span>:<span class="string">"Jhon"</span>&#125;));<span class="comment">//[object Object]</span></div><div class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.prototype.toString.call(<span class="keyword">new</span> <span class="built_in">Date</span>()));<span class="comment">//[object Date]</span></div></pre></td></tr></table></figure>
<h3 id="2-null-undefined-这两个原始数据类型没有属性和方法"><a href="#2-null-undefined-这两个原始数据类型没有属性和方法" class="headerlink" title="2 null  undefined  这两个原始数据类型没有属性和方法"></a>2 null  undefined  这两个原始数据类型没有属性和方法</h3><p>2.1 null是一个表示”无”的对象(null 则用于表示尚未存在的对象)，转化为数值的时候值为0；典型的用法是：</p>
<ul>
<li>用来初始化一个变量，该变量将来可能会被赋值成一个对象</li>
<li>用来和一个已经初始化的对象进行比较，这个变量可以是一个对象，也可以不是一个对象</li>
<li>当函数的参数期望是对象时，被用作参数传入</li>
<li>当函数返回值期望是对象时，被当做返回值输出(比如调用API 获取页面元素)</li>
<li>调用API获取页面中的元素，获取不到的时候，返回undefined;</li>
<li>删除事件绑定,事件本身是一个 null ,是一个空的对象，可以添加</li>
<li>作为对象原型链的终点</li>
<li>正则exec()方法如果未找到匹配，则返回值为 null。</li>
<li>字符串 str.match(value) 方法匹配字符串，如果匹配不到，返回null</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">head</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"按钮"</span>/&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line">    <span class="built_in">console</span>.log(<span class="built_in">document</span>.querySelector(<span class="string">"input"</span>).onclick);<span class="comment">//null</span></div><div class="line">    <span class="built_in">document</span>.querySelector(<span class="string">"input"</span>).onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="string">"被定义"</span>);</div><div class="line">    &#125;;</div><div class="line">    <span class="built_in">console</span>.log(<span class="built_in">document</span>.querySelector(<span class="string">"input"</span>).onclick);<span class="comment">//function()&#123;  console.log("被定义"); &#125;</span></div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<p>2.2 undefined 是一个表示”无”的原始值，转化为数值的时候值为0 ；为布尔类型的时候使false ; 典型用法是：</p>
<ul>
<li>变量被声明了，但是没有赋值，那么该变量的值就是undefined</li>
<li>调用一个函数的时候，如果应该提供的参数没有提供，那么该参数默认是undefined</li>
<li>如果一个对象的属性没有赋值，那么该属性值为undefined</li>
<li>获取某个对象的属性，该对象本身就没有该属性，返回undefined(数组也是对象)</li>
<li>函数没有返回值的时候，默认返回undefined;</li>
<li>函数的实参少于形参个数，未被赋值的形参默认值为undefined</li>
<li>使用shift pop 删除数组中的第一个和最后一个元素的时候，如果数组为空，那么返回值是undefined</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span>&#123;</div><div class="line">       <span class="keyword">this</span>.age=<span class="number">10</span>;</div><div class="line">   &#125;</div><div class="line">   <span class="keyword">var</span> p1=foo.call(<span class="literal">null</span>); <span class="comment">//函数执行结果没有返回值，默认返回undefined,</span></div><div class="line">   <span class="built_in">console</span>.log(p1.age);<span class="comment">//undefined没有属性和方法，所以会报错</span></div></pre></td></tr></table></figure>
<p>2.3 乱入一个空字符串作为返回值以及NaN作为返回值的情况总结吧</p>
<ul>
<li>str.chatAt(index)  如果index不再0和str.length那么返回一个空字符；</li>
<li>如果期望转化的结果为数字的时候，转化失败的时候，返回NaN</li>
</ul>
<p>2.4如何区分二者？</p>
<ul>
<li>==  运算符只比较值，不进行类型的比较，比较之前会进行隐式转化，null==undefined  返回true.</li>
<li>=== 区分两者，不仅仅比较内容，还比较数据类型  null===undefined  false</li>
</ul>
<p>如何判断一个变量是null还是undefined?</p>
<ul>
<li>如何确定一个变量是undefined;</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> exp = <span class="literal">undefined</span> ;<span class="comment">//var exp ;如果不进行赋值的话，结果也是undefined</span></div><div class="line"><span class="comment">//这种方法是错误的，因为null==undefined 返回true;</span></div><div class="line"><span class="keyword">if</span>(exp == <span class="literal">undefined</span>)&#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">"exp变量是undefined"</span>);</div><div class="line">&#125;</div><div class="line"><span class="comment">//这种方法才是正确的，注意undefined加"" ,因为typeof返回的值是一个字符串类型的</span></div><div class="line"><span class="keyword">if</span>(<span class="keyword">typeof</span>(exp) == <span class="string">'undefined'</span>)&#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">"exp变量是undefined"</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>以下附上   ==  运算符的W3C解释，方便读者回忆基础</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">执行类型转化遵循的规则:</div><div class="line">如果一个运算数是 Boolean 值，在检查相等性之前，把它转换成数字值。false 转换成 0，true 为 1。 </div><div class="line">如果一个运算数是字符串，另一个是数字，在检查相等性之前，要尝试把字符串转换成数字。 </div><div class="line">如果一个运算数是对象，另一个是字符串，在检查相等性之前，要尝试把对象转换成字符串。 </div><div class="line">如果一个运算数是对象，另一个是数字，在检查相等性之前，要尝试把对象转换成数字。</div><div class="line">还遵循以下转化规则:</div><div class="line">值 null 和 undefined 相等。 </div><div class="line">在检查相等性时，不能把 null 和 undefined 转换成其他值。 </div><div class="line">如果某个运算数是 NaN，等号将返回 false，非等号将返回 true。 </div><div class="line">如果两个运算数都是对象，那么比较的是它们的引用值。如果两个运算数指向同一对象，那么等号返回 true，否则两个运算数不等。</div></pre></td></tr></table></figure>
<p>我觉得可以进行再简化，来进行解释这个比较过程:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">如果其中一个是布尔类型则先将布尔类型转化 为0 或者 1 ;</div><div class="line">如果一个是对象，和字符串、 数字 或者 布尔类型 进行比较的时候则将对象转化为原始值，对象通过toString  valueOf 查看原始值，然后在与字符串 数字 布尔类型进行比较</div></pre></td></tr></table></figure>
<ul>
<li>如何确定一个变量是null</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> exp = <span class="literal">null</span>;</div><div class="line"><span class="comment">//以下两种是不正确的</span></div><div class="line"><span class="keyword">if</span>(!exp)&#123;   <span class="comment">//0 或者undefined同样可以进入if语句</span></div><div class="line">  <span class="built_in">console</span>.log(<span class="string">"该变量是null"</span>);</div><div class="line">&#125;</div><div class="line"><span class="keyword">if</span>(exp == <span class="literal">null</span> )&#123; <span class="comment">//undefined == null 返回true </span></div><div class="line">  <span class="built_in">console</span>.log(<span class="string">"该变量是null"</span>)</div><div class="line">&#125;</div><div class="line"><span class="comment">//下面这种才是正确判断null 类型的</span></div><div class="line"><span class="keyword">if</span>(<span class="keyword">typeof</span>(exp) == <span class="string">'object'</span> &amp;&amp; exp == <span class="literal">null</span>)&#123; <span class="comment">//同时进行类型和内容的判断</span></div><div class="line">  <span class="built_in">console</span>.log(<span class="string">"该变量是null"</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/11/28/171web中的path路径浅析/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="JiM-W">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JiM-W">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/11/28/171web中的path路径浅析/" itemprop="url">
                  web中的path路径浅析
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-11-28T12:36:00+08:00">
                2016-11-28
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/http/" itemprop="url" rel="index">
                    <span itemprop="name">http</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>之前写过 NodeJs中的path路径浅析 现在简单看下浏览器是如何解析路径的</p>
<p>1 浏览器端解析路径的时候，总是以所解析的文件作为当前页</p>
<p>看下实例demo的目录结构</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">webPath/ </div><div class="line">	js/</div><div class="line">	    -app.js</div><div class="line">	-index.html</div><div class="line">	-ab.html</div><div class="line">	-abc.html</div></pre></td></tr></table></figure>
<p>app.js  以下app文件读取的路径和启动服务器所在目录有着直接的关系，NodeJs中的path路径浅析 已经分析过，不再赘述，这里代码不进行封装了。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> http  = <span class="built_in">require</span>(<span class="string">'http'</span>);</div><div class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">'fs'</span>);</div><div class="line"><span class="keyword">var</span> template = <span class="built_in">require</span>(<span class="string">'art-template'</span>);</div><div class="line"><span class="keyword">var</span> server = http.createServer();</div><div class="line"></div><div class="line">server.listen(<span class="number">8080</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">"8080running"</span>);</div><div class="line">&#125;);</div><div class="line">server.on(<span class="string">'request'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">req,res</span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> url = req.url ;</div><div class="line">    <span class="keyword">var</span> method = req.method.toLowerCase();</div><div class="line">    <span class="built_in">console</span>.log(url);</div><div class="line">    <span class="built_in">console</span>.log(method);</div><div class="line">    <span class="keyword">if</span>(method === <span class="string">'get'</span> &amp;&amp; url === <span class="string">'/'</span>)&#123;</div><div class="line">        fs.readFile(<span class="string">'../index.html'</span>,<span class="string">'utf-8'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">err,data</span>)</span>&#123;</div><div class="line">            <span class="keyword">if</span>(err)&#123;</div><div class="line">                <span class="keyword">throw</span> err ;</div><div class="line">            &#125;</div><div class="line">            <span class="built_in">console</span>.log(data);</div><div class="line">            <span class="keyword">var</span> htmlStr = template.compile(data)(&#123;<span class="attr">info</span>:&#123;<span class="attr">flag</span>:<span class="string">'/'</span>&#125;&#125;);</div><div class="line">            res.end(htmlStr)</div><div class="line">        &#125;)</div><div class="line"></div><div class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(method === <span class="string">'get'</span> &amp;&amp; url === <span class="string">'/aaa/bbb'</span>)&#123;</div><div class="line">        fs.readFile(<span class="string">'../ab.html'</span>,<span class="string">'utf-8'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">err,data</span>) </span>&#123;</div><div class="line">            <span class="keyword">if</span> (err) &#123;</div><div class="line">                <span class="keyword">throw</span> err;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">var</span> htmlStr = template.compile(data)(&#123;<span class="attr">info</span>: &#123;<span class="attr">flag</span>: <span class="string">'ab'</span>&#125;&#125;);</div><div class="line">            <span class="built_in">console</span>.log(htmlStr);</div><div class="line">            res.end(htmlStr)</div><div class="line">        &#125;)</div><div class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(method === <span class="string">'get'</span> &amp;&amp; url === <span class="string">'/aaa/bbb/ccc'</span>)&#123;</div><div class="line">        fs.readFile(<span class="string">'../abc.html'</span>,<span class="string">'utf-8'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">err,data</span>) </span>&#123;</div><div class="line">            <span class="keyword">if</span> (err) &#123;</div><div class="line">                <span class="keyword">throw</span> err;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">var</span> htmlStr = template.compile(data)(&#123;<span class="attr">info</span>: &#123;<span class="attr">flag</span>: <span class="string">'abc'</span>&#125;&#125;);</div><div class="line">            res.end(htmlStr)</div><div class="line">        &#125;)</div><div class="line">    &#125;</div><div class="line"></div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>index.html</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">head</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"../aaa/bbb"</span>&gt;</span>地址: ../aaa/bbb<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"./aaa/bbb"</span>&gt;</span>地址:  ./aaa/bbb<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/aaa/bbb"</span>&gt;</span>地址:   /aaa/bbb<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>以上三个地址对应的资源是一样的，也就是说上面三种路径的写法在浏览器解析的时候是等价的<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/aaa/bbb/ccc"</span>&gt;</span>地址:  /aaa/bbb/cc<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/aaa/bbb/./ccc"</span>&gt;</span>地址:  /aaa/bbb/./ccc<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/aaa/bbb/../bbb"</span>&gt;</span>地址:  /aaa/bbb/../bbb<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>flag 标记&#123;&#123;info.flag&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>this is / 对应的内容<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<p>ab.html</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">head</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/"</span>&gt;</span>back to index<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>flag 标记 &#123;&#123;info.flag&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>this is /aaa/bbb 对应的内容<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<p>abc.html</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">head</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/"</span>&gt;</span>back to index<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>flag 标记 &#123;&#123;info.flag&#125;&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>this is /aaa/bbb/ccc对应的内容<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<p>2  我们发现 ../   ./  如果放在路径的开头，则会被浏览器“忽略”；在路径内则会按照原来的 ./ 代表当前路径  ../ 代表上级目录进行解析;</p>
<p>其实，从客户端返回的路径对于服务器来说，就是一个“标识符”，还记得标识符吗？当我们学习定义一个变量的时候，要用var  name = “Jhon”,其中的name就是标识符，通过name可以直接获取到Jhon，这里的客户端请求的路径对于服务器也是一样的，客户端的请求也就是一个“标识符”，客户端请求一个 /  服务端返回index.html，客户端请求 /aaa/bbb  服务端返回对应的ab.html页面，当然也可以是不同的其他的资源文件。</p>
<p>根本还是根据客户端的标识符，服务器进行响应，然后返回响应的数据，所以我们有可能看到的是‘假路径’，一切都是假的，咯咯。</p>
<p>3 实际情况通过demo的演示会很清楚的显示，大家动手多实践吧。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/11/22/31-width  百分比取值相对基准问题/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="JiM-W">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JiM-W">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/11/22/31-width  百分比取值相对基准问题/" itemprop="url">
                  width 百分比取值基准
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-11-22T12:36:00+08:00">
                2016-11-22
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/html/" itemprop="url" rel="index">
                    <span itemprop="name">html</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>width  百分比取值相对基准问题</p>
<p>一 ：标准流下，父元素不定位，不浮动，子元素的100% width相对于哪个元素的width进行取值</p>
<p>二：脱离标准流之后，父元素设置了定位或者浮动之后，子元素的100% width相对于哪个元素的width进行取值</p>
<p>注意理解：</p>
<ul>
<li><p>当<strong>子元素</strong><code>是</code><strong>标准流</strong>的元素的时候，(包括子元素设置position:relative，也是永远相对于父元素的宽高为基准)</p>
<p>无论<strong>父元素是否是标准流</strong> 的元素，<strong>子元素</strong>的width和height的百分比取值永远都是<strong>相对于父元素</strong>的;</p>
</li>
</ul>
<p>此时无论父元素是否设置定位，子元素的width height padding margin 通过百分数取值的时候，都是相对于其<strong>直接父元素</strong>。</p>
<ul>
<li><p>当<strong>子元素</strong><code>不是</code><strong>标准流</strong>的时候，比如子元素设置了position:absolute；</p>
<p> 此时子元素的宽高百分比设置的时候，百分比的宽高基准是顺着DOM元素往上寻找最近的一个设置了定位了父元素的宽高为基准，如果祖先元素都没有定位的话，那么就是相对于body的宽高；注意position除了static的父元素 ；</p>
<p>注意<strong>position除了static的父元素</strong> ；</p>
</li>
<li><p>其实绝对定位的子元素的  margin  padding  等值的百分比都是相对于顺着DOM节点树向上第一个设置了除了static定位之外的position 的元素的宽度为基准的；</p>
</li>
<li><p>% 重点理解：width 是 基于父元素的 width 计算的值<br>height 是基于父元素的 height 计算的值<br>padding 和 margin 的无论上下左右 值 都是基于DOM树节点祖先元素中第一个设置了除了static定位之外的第一个祖先元素的宽度 </p>
<p>​</p>
<p>​</p>
<p>​</p>
<p>​</p>
</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/11/22/30-CSS3 background 背景/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="JiM-W">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JiM-W">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/11/22/30-CSS3 background 背景/" itemprop="url">
                  css3 background
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-11-22T12:36:00+08:00">
                2016-11-22
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/css3/" itemprop="url" rel="index">
                    <span itemprop="name">css3</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>CSS3 background-origin clip size 背景</p>
<p>1 盒子大小大于背景图的大小，如何避免精灵图周边的其他图片显示出来</p>
<p>一  对于背景色：</p>
<ul>
<li><p>background-clip : border-box || padding-box || content-box || text </p>
<p>定义元素的<strong>背景图像</strong> 从何处开始<strong>向外</strong> 裁剪，默认值是border-box；</p>
</li>
<li><p>bakcground-origin : border-box || padding-box || content-box  该属性改变<strong>背景图像</strong> 的填充开始原点，对<strong>背景色</strong> 没有影响</p>
</li>
</ul>
<p>定义元素的<strong>背景图像</strong> 从何处开始填充，即填充开始的原点；默认值是padding-box ；</p>
<p><strong>注意背景图像必须设置为  no-repeat才会有效果，不然将会完全平铺</strong> </p>
<ul>
<li>background-size : auto || length || percentage || cover || container </li>
</ul>
<p>该属性值设置背景图像的大小，</p>
<ul>
<li>auto是默认值，即背景图像的真实大小，</li>
<li>length 可以直接设置背景图像的大小，会将背景图像进行压缩 ，</li>
<li>percentage 以百分比设置背景图像的大小，百分比的基准是盛放背景图像的元素的宽高，而不是背景图像本身尺寸的宽高，</li>
<li>length和percentage如果只设置一一个值，那么将设置为背景图像的宽度尺寸，第二个值默认auto,根据宽度进行等比缩放；</li>
<li>cover 会将背景图像进行<strong>等比</strong> 缩小或者放大，使其可以完全覆盖容器 ，此时背景图像可能会溢出；</li>
<li>container会将背景图像进行<strong>等比</strong>缩小或者放大到宽度或者高度与容器的宽度或者高度一样，使其可以完全在容器内，此时容器可能会有空余空间；</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">head</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></div><div class="line">        <span class="selector-tag">div</span>&#123;</div><div class="line">            <span class="attribute">border</span>: <span class="number">10px</span> dashed blue;</div><div class="line">            <span class="attribute">width</span>: <span class="number">150px</span>;</div><div class="line">            <span class="attribute">height</span>: <span class="number">150px</span>;</div><div class="line">            <span class="attribute">background-color</span>: red;</div><div class="line">            <span class="attribute">margin</span>: <span class="number">50px</span> auto  ;</div><div class="line">            <span class="attribute">padding</span>: <span class="number">20px</span>;</div><div class="line">        &#125;</div><div class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">给div依次设置以下属性:</div><div class="line">background-clip: border-box;  //会将背景从border开始向外剪裁</div><div class="line">background-clip: padding-box; //会将背景从padding开始向外剪裁</div><div class="line">background-clip: content-box;  //会将背景从content开始向外剪裁</div><div class="line">注意背景默认是填充border边界的，即以border-box为默认值</div><div class="line">**对于背景色而言，永远都之直接填充包括border-box为边界内部的区域，background-origin对背景色不起作用;</div><div class="line">background-origin:border-box; </div><div class="line">background-origin: padding-box;</div><div class="line">background-origin: content-box;</div></pre></td></tr></table></figure>
<p>将这三个属性依次设置给div ,效果如下：</p>
<p><img src="img/back1.jpg" alt="border-box">   <img src="img/back2.jpg" alt="padding-box"></p>
<p><img src="img/back3.jpg" alt="content-box"></p>
<p>二 对于背景图像：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">div&#123;</div><div class="line">           border: 10px dashed blue;</div><div class="line">           width: 150px;</div><div class="line">           height: 150px;</div><div class="line">           background-color: red;</div><div class="line">           margin: 50px auto  ;</div><div class="line">           padding: 20px;</div><div class="line">           background: url("img/01.jpg") no-repeat;</div><div class="line"></div><div class="line">       &#125;</div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">            /*background-clip: border-box;*/</div><div class="line">            /*background-clip: padding-box;*/</div><div class="line">            /*background-clip: content-box;*/</div><div class="line">和背景色一样，都是向外裁剪，但是需要注意，背景图像填充的时候，默认是以padding-box，即padding左上角为原点进行填充整个div的，也就是说，div的上边框和左边框不会被填充，但是下边框和有边框会被填充，如果想要所有的边框被填充，那么需要设置background-origin:border-box ;</div></pre></td></tr></table></figure>
<p>三 background属性连写:新版CSS3支持可以写多个背景连写在一起,中间用逗号隔开，最后以分号结尾</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">background: </div><div class="line">url(img/bg1.png) no-repeat left top,</div><div class="line">url(img/bg2.png) no-repeat right top,</div><div class="line">url(img/bg4.png) no-repeat left bottom,</div><div class="line">url(img/bg3.png) no-repeat right bottom,</div><div class="line">url(img/dog.gif) no-repeat center/400px 270px;</div><div class="line">background:none  [0% 0%] /auto repeat  scroll padding-box content-box transparent</div><div class="line">background:image  pisition size repeat attachment origin clip color</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/11/22/32-HTML5Drag/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="JiM-W">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JiM-W">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/11/22/32-HTML5Drag/" itemprop="url">
                  html5 Drag
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-11-22T12:36:00+08:00">
                2016-11-22
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/html-drag/" itemprop="url" rel="index">
                    <span itemprop="name">html drag</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>1,全屏API:DOM元素支持全屏，HTML5的标准写法是   ele.requestFullScreen( ), 即可使DOM元素全屏；但是由于该方法处于不够完善，所以需要写各个浏览器的兼容代码；</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span>(<span class="keyword">this</span>.webkitRequestFullScreen)&#123;</div><div class="line">     <span class="keyword">this</span>.webkitRequestFullScreen();</div><div class="line">   &#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="keyword">this</span>.mozRequestFullScreen)&#123;</div><div class="line">     <span class="keyword">this</span>.mozRequestFullScreen();</div><div class="line">   &#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="keyword">this</span>.requestFullScreen)&#123;</div><div class="line">     <span class="keyword">this</span>.requestFullScreen();</div><div class="line">   &#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="keyword">this</span>.msRequestFullscreen)&#123;</div><div class="line">     <span class="keyword">this</span>.msRequestFullscreen();</div><div class="line">   &#125;</div></pre></td></tr></table></figure>
<p>2,拖拽API:首先来看有哪些拖放(drag和drop)的事件，如果要是元素可以拖拽，</p>
<p>首先要给该元素设置  draggable = true 属性，保证该元素可以被拖放.(img标签默认支持拖放，div默认不支持拖放)</p>
<p>拖拽元素的事件如下：</p>
<ul>
<li>ondrag   当拖动元素的时候运行脚本</li>
<li>ondragstart    当拖动操作开始时候运行脚本</li>
<li>ondragend   当拖动操作结束的时候运行脚本</li>
</ul>
<p>目标元素的事件如下：</p>
<ul>
<li>ondragover   当元素被拖动至有效拖放目标上方时执行脚本</li>
<li>ondragenter  当元素被拖动至有效拖动目标时执行脚本</li>
<li>ondragleave 当元素离开至有效拖放目标是运行脚本</li>
<li>ondrop  当被拖动元素正在被放下的时候运行脚本</li>
</ul>
<p>注意如果想要使目标元素可以被放进来拖放的元素，因为默认地，无法将数据/元素放置到其他元素中。如果需要设置允许放置，我们必须阻止对元素的默认处理方式。此时需要对目标元素进行处理，调用dragover阻止默认事件 的方法：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">目标元素.ondragover = function(event)&#123;</div><div class="line">		event.preventDefault() ;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>3 代码演示</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"zh-cn"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></div><div class="line">    <span class="selector-tag">html</span>,</div><div class="line">    <span class="selector-tag">body</span> &#123;</div><div class="line">      <span class="attribute">height</span>: <span class="number">100%</span>;</div><div class="line">    &#125; </div><div class="line">    <span class="selector-tag">body</span> &#123;</div><div class="line">      <span class="attribute">margin</span>: <span class="number">0</span>;</div><div class="line">      <span class="attribute">display</span>: flex;</div><div class="line">      <span class="attribute">justify-content</span>: space-around;</div><div class="line">      <span class="attribute">align-items</span>: center;</div><div class="line">    &#125;</div><div class="line">    <span class="selector-tag">div</span> &#123;</div><div class="line">      <span class="attribute">width</span>: <span class="number">400px</span>;</div><div class="line">      <span class="attribute">height</span>: <span class="number">400px</span>;</div><div class="line">      <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#000</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="selector-class">.left</span> &#123;</div><div class="line">      <span class="attribute">display</span>: flex;</div><div class="line">      <span class="attribute">flex-wrap</span>: wrap;</div><div class="line">      <span class="attribute">justify-content</span>: space-around;</div><div class="line">      <span class="attribute">align-items</span>: center;</div><div class="line">    &#125; </div><div class="line">    <span class="selector-tag">div</span>&gt;<span class="selector-tag">img</span> &#123;</div><div class="line">      <span class="attribute">width</span>: <span class="number">70px</span>;</div><div class="line">      <span class="attribute">height</span>: <span class="number">70px</span>;</div><div class="line">      <span class="attribute">margin</span>: <span class="number">10px</span>;</div><div class="line">      <span class="attribute">background-color</span>: ;</div><div class="line">    &#125;</div><div class="line">    <span class="comment">/* 使用css来修改 定义一个 高亮的颜色 */</span> </div><div class="line">    <span class="selector-class">.right</span><span class="selector-class">.active</span> &#123;</div><div class="line">      <span class="attribute">background-color</span>: lightblue;</div><div class="line">    &#125;</div><div class="line">  <span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"left"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"imgs/lofter_1_noval_icon_ (1).jpg"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"imgs/lofter_1_noval_icon_ (2).jpg"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"imgs/lofter_1_noval_icon_ (3).jpg"</span> <span class="attr">alt</span>=<span class="string">""</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"right"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line">  <span class="comment">// .right 盒子 元素移入  颜色高亮 </span></div><div class="line">  <span class="built_in">document</span>.querySelector(<span class="string">'.right'</span>).ondragenter = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="comment">// this.style.background = 'lightgray';</span></div><div class="line">    <span class="keyword">this</span>.classList.add(<span class="string">'active'</span>);</div><div class="line">    <span class="comment">// $(this).addClass('active');</span></div><div class="line">  &#125;</div><div class="line">  <span class="comment">// .right 移出 颜色还原 </span></div><div class="line">  <span class="built_in">document</span>.querySelector(<span class="string">'.right'</span>).ondragleave = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="comment">//  颜色 就是 直接设置透明 </span></div><div class="line">    <span class="comment">// this.style.background = 'transparent';</span></div><div class="line">    <span class="comment">// this.style.background = 'rgba(0,0,0,0)';</span></div><div class="line">    <span class="keyword">this</span>.classList.remove(<span class="string">'active'</span>);</div><div class="line">  &#125;</div><div class="line">  <span class="comment">// 为了能够触发drop 必须设置如下代码,给目标元素设置阻止默认处理方式，允许元素可以被放置</span></div><div class="line">  <span class="built_in">document</span>.querySelector(<span class="string">'.right'</span>).ondragover = <span class="function"><span class="keyword">function</span> (<span class="params">event</span>) </span>&#123;</div><div class="line">    event.preventDefault();</div><div class="line">  &#125;</div><div class="line">  <span class="comment">//  drop  .right盒子绑定</span></div><div class="line">  <span class="comment">//  img 拖拽开始的 时候 保存为 全局变量</span></div><div class="line">  <span class="keyword">var</span> imgs = <span class="built_in">document</span>.querySelectorAll(<span class="string">'.left&gt;img'</span>);</div><div class="line">  <span class="comment">// 当前移动的 img</span></div><div class="line">  <span class="keyword">var</span> moveImg = <span class="literal">undefined</span>;</div><div class="line">  <span class="comment">// 循环绑定，给每个拖拽元素设置拖拽事件，每个元素被拖拽时触发该事件</span></div><div class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;imgs.length;i++)&#123;</div><div class="line">    imgs[i].ondragstart = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">      <span class="comment">// 保存为全局变量</span></div><div class="line">      moveImg = <span class="keyword">this</span>;</div><div class="line">      <span class="comment">// 打印是否保存</span></div><div class="line">      <span class="built_in">console</span>.log(moveImg);</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">  <span class="built_in">document</span>.querySelector(<span class="string">'.right'</span>).ondrop = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line"><span class="comment">//  moveImg.ondrop = function () &#123;</span></div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'进来了'</span>);</div><div class="line">    <span class="comment">// 将 丢进来的 元素 设置为 子元素 </span></div><div class="line">    <span class="comment">// 获取丢进来的元素 在拖拽img的时候 将当前拖拽的img 存起来获取保存的img</span></div><div class="line">    <span class="comment">// 通过全局变量 moveImg  添加给自己</span></div><div class="line">    <span class="built_in">document</span>.querySelector(<span class="string">'.right'</span>).appendChild(moveImg);</div><div class="line">    <span class="comment">//  还原 自己的颜色</span></div><div class="line">    <span class="keyword">this</span>.classList.remove(<span class="string">'active'</span>) </div><div class="line">  &#125;</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/11/21/68JSON数据处理的方法/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="JiM-W">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JiM-W">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/11/21/68JSON数据处理的方法/" itemprop="url">
                  JSON operate
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-11-21T20:36:00+08:00">
                2016-11-21
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/javascript/" itemprop="url" rel="index">
                    <span itemprop="name">javascript</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>JSON数据处理的方法</p>
<p>1 json数据格式:</p>
<ul>
<li>以键值对的形式存在 json={“key”:”value”,”key1”:”value1”,”key2”:”value2”};</li>
<li>key对应的值可以使数组或者对象 json={“key” :  {  } , “key1” : [   ] , “key2” : function(){ } } ;</li>
<li>json是一种规范，一种数据格式的规范</li>
<li>json实际上是字符串</li>
</ul>
<p>2 json数据格式，”存前读后”，也就是说存储json格式的数据之前，要进行将其转化为字符串，读取的时候，要转化为对象</p>
<p> JSON.stringify()  将一个<strong>对象</strong>解析成<strong>字符串</strong>  将<strong>JavaScript值</strong>转换为<strong>JSON字符串</strong></p>
<p> JSON.parse() 将一个<strong>字符串</strong>解析成<strong>对象</strong> ，构造由字符串描述的JavaScript值或对象。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line">    <span class="keyword">var</span> myJson=&#123;<span class="string">"UserName"</span>:<span class="string">"Jim"</span>&#125;;</div><div class="line">    <span class="built_in">console</span>.log(myJson);<span class="comment">//Object &#123;UserName: "Jim"&#125;</span></div><div class="line">    <span class="keyword">var</span> strMyJson = <span class="built_in">JSON</span>.stringify(myJson);<span class="comment">//将myJson存进去，记得JSON.stringify转成字符串</span></div><div class="line">    <span class="built_in">console</span>.log(strMyJson);<span class="comment">//  字符串   '&#123;UserName: "Jim"&#125;'</span></div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">typeof</span> strMyJson);<span class="comment">//string</span></div><div class="line">    <span class="keyword">var</span> objMyJson=<span class="built_in">JSON</span>.parse(strMyJson);<span class="comment">//取出来的是字符串，记得JSON.parse还原为对象</span></div><div class="line">    <span class="built_in">console</span>.log(objMyJson);<span class="comment">//Object &#123;UserName: "Jim"&#125;</span></div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">typeof</span> objMyJson);<span class="comment">//object</span></div><div class="line"> 	<span class="keyword">var</span> data = [&#123;<span class="string">"name"</span>:<span class="string">"jhon"</span>&#125;,&#123;<span class="string">"age"</span>:<span class="number">16</span>&#125;];<span class="comment">//数组也可以</span></div><div class="line">    <span class="keyword">var</span> strData = <span class="built_in">JSON</span>.stringify(data);</div><div class="line">	<span class="built_in">console</span>.dir(strData);</div><div class="line">    <span class="built_in">console</span>.dir(<span class="keyword">typeof</span> strData);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<p>3 JSON.parse用法在JSON.parse and eval 博文已经总结过</p>
<p>4 JSON.stringify()详解 (参阅MDN)</p>
<p>语法  返回值是一个JSON格式的字符串</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">JSON</span>.stringify(value[, replacer [, space]])</div></pre></td></tr></table></figure>
<ul>
<li>value是要序列化为一个JSON字符串的值</li>
<li>replacer可选参数<ul>
<li>如果该参数是一个函数，那么在序列化的过程中的被序列化的每个属性都会经过该函数的转换和处理</li>
<li>如果该参数是一个数组，那么只有包含在该数组中的属性名才能被最终序列化为JSON字符串</li>
<li>如果该参数为null或者未提供， 那么对象的所有属性都会被序列化</li>
</ul>
</li>
<li>space 可选参数，用于梅花输出<ul>
<li>如果该参数是一个数字，代表有多少个空格，上限为10 ，如果该数字小于1，则没有空格</li>
<li>如果该参数为null或者没有提供将没有空格</li>
</ul>
</li>
</ul>
<p>注意事项</p>
<ul>
<li>字符串，数字，布尔类型的数据值会被直接 转化为原始值</li>
<li>undefined  函数  以及symbol值<ul>
<li>在数组中出现的时候，会被转化为null</li>
<li>作为对象的属性值出现的时候，整个键值对都会被忽略</li>
</ul>
</li>
<li>不可枚举的属性不会被序列化为字符串</li>
</ul>
<p>走几个demo便于理解和记忆</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> obj = <span class="built_in">Object</span>.create(&#123; <span class="attr">foo</span>: <span class="number">1</span> &#125;, &#123; <span class="comment">// foo is on obj's prototype chain.</span></div><div class="line">       bar: &#123;</div><div class="line">           <span class="attr">value</span>: <span class="number">2</span>  <span class="comment">// bar is a non-enumerable property.默认值false</span></div><div class="line">       &#125;,</div><div class="line">       <span class="attr">baz</span>: &#123;</div><div class="line">           <span class="attr">value</span>: <span class="number">3</span>,</div><div class="line">           <span class="attr">enumerable</span>: <span class="literal">true</span>  <span class="comment">// baz is an own enumerable property.</span></div><div class="line">       &#125;</div><div class="line">   &#125;);</div><div class="line">  </div><div class="line">   <span class="built_in">console</span>.log(<span class="built_in">JSON</span>.stringify(obj));<span class="comment">//'&#123;"baz":3&#125;'</span></div><div class="line">   <span class="built_in">console</span>.log(<span class="built_in">JSON</span>.stringify(&#123;&#125;));<span class="comment">//'&#123;&#125;'</span></div><div class="line">   <span class="built_in">console</span>.log(<span class="built_in">JSON</span>.stringify(<span class="literal">false</span>));<span class="comment">//"false"</span></div><div class="line">   <span class="built_in">console</span>.log(<span class="built_in">JSON</span>.stringify(<span class="number">4</span>));<span class="comment">//"4"</span></div><div class="line">   <span class="built_in">console</span>.log(<span class="built_in">JSON</span>.stringify(<span class="string">'foo'</span>));<span class="comment">//"foo"</span></div><div class="line">   <span class="built_in">console</span>.log(<span class="built_in">JSON</span>.stringify([<span class="string">'foo'</span>,<span class="number">2</span>,<span class="literal">true</span>]));<span class="comment">//'["foo",2,true]'</span></div><div class="line">   <span class="built_in">console</span>.log(<span class="built_in">JSON</span>.stringify([<span class="literal">undefined</span>,<span class="built_in">Array</span>,<span class="built_in">Symbol</span>(<span class="string">""</span>)]));<span class="comment">//'[null,null,null]'</span></div><div class="line">   <span class="built_in">console</span>.log(<span class="built_in">JSON</span>.stringify(&#123;<span class="attr">x</span>:<span class="literal">undefined</span>,<span class="attr">y</span>:<span class="built_in">Array</span>,<span class="attr">z</span>:<span class="built_in">Symbol</span>(<span class="string">""</span>)&#125;));<span class="comment">//'&#123;&#125;'</span></div></pre></td></tr></table></figure>
<p>replacer函数 </p>
<ul>
<li>如果返回一个 Number 转换成相应的字符串被添加入JSON字符串。</li>
<li>如果返回一个 String, 该字符串作为属性值被添加入JSON。</li>
<li>如果返回一个 Boolean, “true” 或者 “false”被作为属性值被添加入JSON字符串。</li>
<li>如果返回任何其他对象，该对象递归地序列化成JSON字符串，对每个属性调用replaceer方法。除非该对象是一个函数，这种情况将不会被序列化成JSON字符串。</li>
<li>如果返回undefined，该属性值不会在JSON字符串中输出。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> obj = &#123;<span class="attr">name</span>:<span class="string">'Jhon'</span>,<span class="attr">age</span>:<span class="number">19</span>,<span class="attr">gender</span>:<span class="string">"man"</span>&#125;;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">replacer</span> (<span class="params">key,value</span>)</span>&#123;</div><div class="line">  <span class="keyword">if</span>(<span class="keyword">typeof</span> value === <span class="string">'number'</span>)&#123;</div><div class="line">    <span class="keyword">return</span> <span class="literal">undefined</span>;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> value ;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> jsonString = <span class="built_in">JSON</span>.stringify(obj,replacer);</div><div class="line"><span class="built_in">console</span>.log(jsonString);</div><div class="line"><span class="comment">//'&#123;"name":"Jhon","gender":"man"&#125;'</span></div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> obj = &#123;<span class="attr">name</span>:<span class="string">'Jhon'</span>,<span class="attr">age</span>:<span class="number">19</span>,<span class="attr">gender</span>:<span class="string">"man"</span>&#125;;</div><div class="line"><span class="keyword">var</span> jsonString = <span class="built_in">JSON</span>.stringify(obj,[<span class="string">'age'</span>,<span class="string">'other'</span>]);<span class="comment">//多余的会被忽略</span></div><div class="line"><span class="built_in">console</span>.log(jsonString);<span class="comment">//'&#123;"age":19&#125;' ;</span></div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/11/21/162AngularJsdirective/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="JiM-W">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JiM-W">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/11/21/162AngularJsdirective/" itemprop="url">
                  Angular Js directive
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-11-21T00:00:00+08:00">
                2016-11-21
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/javascript/" itemprop="url" rel="index">
                    <span itemprop="name">javascript</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>建议大家看angular英文文档，然后实践出真知</p>
<h3 id="1-angular-directive的自定义用法-我们在定义一个指令的时候使用驼峰法来命名一个指令，例如-runoobDirective-但在使用它时需要以-分割-runoob-directive；"><a href="#1-angular-directive的自定义用法-我们在定义一个指令的时候使用驼峰法来命名一个指令，例如-runoobDirective-但在使用它时需要以-分割-runoob-directive；" class="headerlink" title="1 angular directive的自定义用法    我们在定义一个指令的时候使用驼峰法来命名一个指令，例如 runoobDirective, 但在使用它时需要以 -分割, runoob-directive；"></a>1 angular directive的自定义用法    我们在定义一个指令的时候使用驼峰法来命名一个指令，例如 <strong>runoobDirective</strong>, 但在使用它时需要以 <code>-</code>分割, <strong>runoob-directive</strong>；</h3><p>先来看下自定义指令的语法结构</p>
<p>首先定义指令前需要首先定义一个模块</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> app = angular.module(<span class="string">'app'</span>,[]);<span class="comment">//定义一个模块</span></div></pre></td></tr></table></figure>
<p>在定义了模块之后，可以在定义指令</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">app.directive(<span class="string">'directiveName'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="keyword">return</span> config</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>return的配置参数有很多，接下来一一进行分析</p>
<h3 id="1-1-限制使用-restrict-值为字符串-可以的值有-ECMA-E设置指令可以通过元素的形式进行调用-A-设置指令可以通过属性的形式调用-M设置指令可以通过注释的形式调用-C设置指令可以通过类名进行调用；"><a href="#1-1-限制使用-restrict-值为字符串-可以的值有-ECMA-E设置指令可以通过元素的形式进行调用-A-设置指令可以通过属性的形式调用-M设置指令可以通过注释的形式调用-C设置指令可以通过类名进行调用；" class="headerlink" title="1.1 限制使用  restrict  值为字符串  可以的值有  ECMA  E设置指令可以通过元素的形式进行调用 A 设置指令可以通过属性的形式调用 M设置指令可以通过注释的形式调用 C设置指令可以通过类名进行调用；"></a>1.1 限制使用  restrict  值为字符串  可以的值有  ECMA  E设置指令可以通过元素的形式进行调用 A 设置指令可以通过属性的形式调用 M设置指令可以通过注释的形式调用 C设置指令可以通过类名进行调用；</h3><p><strong>默认值是EA</strong> ，表示我们定义的指令可以通过元素名或者属性的形式进行调用</p>
<p>你可以限制你的指令只能通过特定的方式来调用。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!-- E (element) --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">directiveName</span>&gt;</span><span class="tag">&lt;/<span class="name">directiveName</span>&gt;</span></div><div class="line">比如<span class="tag">&lt;<span class="name">ng-view</span>&gt;</span><span class="tag">&lt;/<span class="name">ng-view</span>&gt;</span>等</div><div class="line"></div><div class="line"><span class="comment">&lt;!-- A (attribute) --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">directiveName</span>=<span class="string">"expression"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">比如<span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-init</span>=<span class="string">"name= 'Jhon'"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-hide</span>=<span class="string">"name= 'Jhon'"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span> 等</div><div class="line"></div><div class="line"><span class="comment">&lt;!-- C (class) --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"directiveName"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"></div><div class="line"><span class="comment">&lt;!-- M(comment) --&gt;</span></div><div class="line"><span class="comment">&lt;!--directive:directiveName expression--&gt;</span></div></pre></td></tr></table></figure>
<h3 id="1-2-priority-默认值为0"><a href="#1-2-priority-默认值为0" class="headerlink" title="1.2  priority 默认值为0"></a>1.2  priority 默认值为0</h3><p>数字，可选参数，致命指令的优先级，若在单个DOM元素上有多个指令，则优先级高的先执行。</p>
<p>当然，设置指令的优先级不太常用，但是比较特殊的例子是，内置指令ng-repeat的优先级为1000，而ng-init的优先级为 450。</p>
<h3 id="1-3-terminal"><a href="#1-3-terminal" class="headerlink" title="1.3 terminal"></a>1.3 terminal</h3><p>布尔型，可选参数，可以被设置为true或者false，若设置为true，则优先级低于此指令的其他指令则无效，不会被调用优先级相同任然会执行。</p>
<h3 id="1-4-template"><a href="#1-4-template" class="headerlink" title="1.4. template"></a>1.4. template</h3><p><strong>字符串或者函数</strong>，可选参数。 其中字符串可以是html标签，可以是一个页面，也可以是一个简单的字符串比如 “this is  str”</p>
<ul>
<li>如下栗子我们简单的定义了一个指令，template是字符串的形式</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">app.directive(<span class="string">'hello'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="keyword">return</span> &#123;</div><div class="line">    <span class="comment">//默认restrict是EA</span></div><div class="line">    template:<span class="string">'&lt;div&gt;try your best&lt;/div&gt;'</span></div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>然后可以使用该指令，通过属性或者元素的方式进行指令的使用</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">hello</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">hello</span>&gt;</span><span class="tag">&lt;/<span class="name">hello</span>&gt;</span></div></pre></td></tr></table></figure>
<p>显示结果如下</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">try your best</div><div class="line">try your best</div></pre></td></tr></table></figure>
<ul>
<li>如下栗子我们定义的一个指令，template是函数的形式，function函数接受两个参数，第一个是element,表示使用此指令的元素，attrs是 实例的属性，它有一个元素上所有的属性组成集合</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">app.directive(<span class="string">'hello1'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="keyword">return</span> &#123;</div><div class="line">    <span class="attr">template</span>:<span class="function"><span class="keyword">function</span>(<span class="params">ele,attr</span>)</span>&#123;</div><div class="line">      <span class="built_in">console</span>.log(<span class="built_in">arguments</span>);</div><div class="line">      <span class="comment">//为了便于说明函数传入的参数ele和attr到底代表的是哪些，我们可以打印出来看下具体的结果</span></div><div class="line">      <span class="keyword">return</span> <span class="string">'&lt;div&gt;'</span>+<span class="string">'hello '</span>+attr.info+<span class="string">'&lt;/div&gt;'</span></div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>然后可以使用该指令，通过属性或者元素的方式进行指令的调用，可以发现第一个调用输出arguments，ele参数代表hello1元素，attr参数代表hello1上面的属性的集合 ，第二次输出arguments,ele代表div元素，attr参数代表div上面的所有的属性的集合</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">hello1</span> <span class="attr">info</span> = <span class="string">'Jhon'</span>&gt;</span><span class="tag">&lt;/<span class="name">hello1</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">hello1</span> <span class="attr">info</span>=<span class="string">'JiM'</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p>显示结果如下：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">hello Jhon</div><div class="line">hello JiM</div></pre></td></tr></table></figure>
<p>html的结构如下</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">hello1</span> <span class="attr">info</span> = <span class="string">'Jhon'</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">div</span>&gt;</span>hello Jhon<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">hello1</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">hello1</span> <span class="attr">info</span>=<span class="string">'JiM'</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">div</span>&gt;</span>hello JiM<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="1-5-replace-布尔型，默认值为false，设置为true的时候，表示可以用自定义的模板内容的标签替换自定义的元素标签。在上例子的基础上，变化如下，大家可以对比下上述两者html的结构的区别"><a href="#1-5-replace-布尔型，默认值为false，设置为true的时候，表示可以用自定义的模板内容的标签替换自定义的元素标签。在上例子的基础上，变化如下，大家可以对比下上述两者html的结构的区别" class="headerlink" title="1.5 replace  布尔型，默认值为false，设置为true的时候，表示可以用自定义的模板内容的标签替换自定义的元素标签。在上例子的基础上，变化如下，大家可以对比下上述两者html的结构的区别"></a>1.5 replace  布尔型，<strong>默认值为false</strong>，设置为true的时候，表示可以用自定义的模板<strong>内容的标签</strong>替换自定义的<strong>元素标签</strong>。在上例子的基础上，变化如下，大家可以对比下上述两者html的结构的区别</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">app.directive(<span class="string">'hello1'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="keyword">return</span> &#123;</div><div class="line">    <span class="attr">replace</span>:<span class="literal">true</span>,</div><div class="line">    <span class="attr">template</span>:<span class="function"><span class="keyword">function</span>(<span class="params">ele,attr</span>)</span>&#123;</div><div class="line">      <span class="built_in">console</span>.log(<span class="built_in">arguments</span>);</div><div class="line">      <span class="keyword">return</span> <span class="string">'&lt;div&gt;'</span>+<span class="string">'hello '</span>+attr.info+<span class="string">'&lt;/div&gt;'</span></div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>html结构</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">hello1</span>=<span class="string">""</span> <span class="attr">info</span>=<span class="string">"JiM"</span>&gt;</span>hello JiM<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">info</span>=<span class="string">"Jhon"</span>&gt;</span>hello Jhon<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="1-6-templateUrl-（字符串或者函数），可选参数，可以是"><a href="#1-6-templateUrl-（字符串或者函数），可选参数，可以是" class="headerlink" title="1.6 templateUrl （字符串或者函数），可选参数，可以是"></a>1.6 templateUrl <strong>（字符串或者函数），可选参数，可以是</strong></h3><p>（1）一个代表HTML文件路径的字符串</p>
<p>（2）一个函数，可接受两个参数tElement和tAttrs（大致同上）</p>
<p>1.6.1  templateUrl接受一个字符串</p>
<p>index.html页面中有如下代码</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">'text/ng-template'</span> <span class="attr">id</span>=<span class="string">'courage.html'</span>&gt;</span><span class="xml"></span></div><div class="line">//注意，模板文件的type属性必须是  ng-template ,表示以angular的规则进行模板的解析</div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>that is awesome to learn more about IT <span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<p>我们可以定义一个指令</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">app.directive(<span class="string">'courage'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="keyword">return</span> &#123;</div><div class="line">    <span class="attr">templateUrl</span>:<span class="string">"courage.html"</span>,</div><div class="line">    <span class="attr">replace</span>:<span class="literal">true</span>,</div><div class="line">    <span class="attr">restrict</span>:<span class="string">'E'</span></div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>调用指令</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">conrage</span>&gt;</span><span class="tag">&lt;/<span class="name">conrage</span>&gt;</span></div></pre></td></tr></table></figure>
<p>页面显示的html结构如下(注意restrict和replace属性的设置对于显示的影响)</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>this is awesome to learn more about IT <span class="tag">&lt;/<span class="name">p</span>&gt;</span></div></pre></td></tr></table></figure>
<p>1.6.2 templateUrl接受一个函数</p>
<p>index.html</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">ng-app</span> = <span class="string">'myApp'</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span> = <span class="string">'myCtrl'</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">courage</span> <span class="attr">type</span>=<span class="string">'one'</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">courage</span> <span class="attr">type</span>=<span class="string">'two'</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"../libs/angular.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line">    <span class="keyword">var</span> app = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">    app.controller(<span class="string">'myCtrl'</span>,[<span class="string">'$scope'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">$scope</span>)</span>&#123;</div><div class="line">        $scope.info = &#123;</div><div class="line">            <span class="attr">name</span> : <span class="string">'Jhon'</span>,</div><div class="line">            <span class="attr">age</span>  : <span class="string">'19'</span></div><div class="line">        &#125;</div><div class="line">    &#125;])</div><div class="line">    app.directive(<span class="string">'courage'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="keyword">return</span> &#123;</div><div class="line">            <span class="attr">templateUrl</span> : <span class="function"><span class="keyword">function</span>(<span class="params">ele,attr</span>)</span>&#123;</div><div class="line">                <span class="built_in">console</span>.log(<span class="built_in">arguments</span>);</div><div class="line">                <span class="keyword">return</span> <span class="string">'courage'</span>+ attr.type+<span class="string">'.html'</span>;</div><div class="line"></div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;)</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div></pre></td></tr></table></figure>
<p>courageone.html</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>this is courage1:`&#123;&#123;info.name&#125;&#125;`<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div></pre></td></tr></table></figure>
<p>couragetwo.html</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>this is courage2:`&#123;&#123;info.age&#125;&#125;`<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="1-7-scope-默认值是false"><a href="#1-7-scope-默认值是false" class="headerlink" title="1.7 scope 默认值是false"></a>1.7 scope <strong>默认值是false</strong></h3><p>false表示继承父作用域的值，<strong>且不进行隔离</strong>，子作用域和父作用域的改变都将影响变量的值；</p>
<p>true表示继承父作用域的值，但是进行隔离，这种效果和设置两个控制器的效果是一样的；</p>
<p><code>{}</code>：没有继承父亲的值，所以儿子的值为空，改变任何一方的值都不会影响另一方，这就是不继承且隔离;</p>
<p>当想要创建一个可重用的组件时，隔离作用域是一个很好的选择，通过隔离作用域，我们可以确保指令是独立的，并且可以轻松的插入到任何HTML APP中，并且这种做法防止了父作用域被污染。</p>
<p>先来看下作用域，我们知道，每定义一个控制器就会形成一个scope对象，该对象可以表示一个作用域，并且继承了父作用域的数据；我们从下面的例子可以改变输入的名字，</p>
<ul>
<li>子作用域继承了父作用域的变量</li>
<li>子作用域和父作用域的变量的改变是相互独立的，也就是说子作用域是继承且隔离的</li>
</ul>
<p>1.7.1 先来看下controller控制器下面的作用的效果，子作用域和父作用域是继承且隔离的效果，子作用域的变量的变化不会污染到父作用域；</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">head</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"angular.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">ng-app</span> = <span class="string">'app'</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span> = <span class="string">'parent'</span> &gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">ng-model</span> = <span class="string">'name'</span> <span class="attr">placeholder</span>=<span class="string">'please input your name'</span>/&gt;</span></div><div class="line">    parent:`&#123;&#123;name&#125;&#125;`</div><div class="line">    age:`&#123;&#123;age&#125;&#125;`</div><div class="line"></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span> = <span class="string">'child'</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">ng-model</span> = <span class="string">'name'</span> <span class="attr">placeholder</span>=<span class="string">'please input your name'</span>/&gt;</span></div><div class="line">        child:`&#123;&#123;name&#125;&#125;`</div><div class="line">        age :`&#123;&#123;age&#125;&#125;`</div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line">    <span class="keyword">var</span> app = angular.module(<span class="string">'app'</span>,[]);</div><div class="line">    app.controller(<span class="string">'parent'</span>,[<span class="string">'$scope'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">$scope</span>)</span>&#123;</div><div class="line">        $scope.name = <span class="string">"Jhon"</span>;</div><div class="line">        $scope.age = <span class="number">19</span> ;</div><div class="line">    &#125;]);</div><div class="line">    app.controller(<span class="string">'child'</span>,[<span class="string">'$scope'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">$scope</span>)</span>&#123;</div><div class="line">        $scope.name = <span class="string">"JiM"</span>;</div><div class="line">    &#125;]);</div><div class="line"></div><div class="line">    <span class="comment">//这种情势下的scope作用域是继承且隔离的，子作用域内的变量的改变不会对父作用域内的变量有任何的影响</span></div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<p>1.7.2 再来看下我们自定义directive的时候的scope不同的设置情况的效果</p>
<p>false的情况(或者没有设置的时候默认的情况)，子作用域会污染父作用域的变量，<strong>继承且不隔离</strong></p>
<p>true的情况，和1.7.1controller的效果一样，<strong>继承且隔离</strong>，这种情况下也就是一般的原型继承的情况</p>
<p><code>{ }</code> 的情况，表示<strong>不继承且隔离</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">ng-app</span> = <span class="string">'app'</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span> = <span class="string">'parent'</span> &gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">ng-model</span> = <span class="string">'name'</span>/&gt;</span></div><div class="line">    parent:`&#123;&#123;name&#125;&#125;`</div><div class="line"></div><div class="line">    <span class="tag">&lt;<span class="name">child</span>&gt;</span><span class="tag">&lt;/<span class="name">child</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line">    <span class="keyword">var</span> app = angular.module(<span class="string">'app'</span>,[]);</div><div class="line">    app.controller(<span class="string">'parent'</span>,[<span class="string">'$scope'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">$scope</span>)</span>&#123;</div><div class="line">        $scope.name = <span class="string">"Jhon"</span>;</div><div class="line">    &#125;]);</div><div class="line">    app.directive(<span class="string">'child'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">       <span class="keyword">return</span> &#123;</div><div class="line">           <span class="attr">replace</span>:<span class="literal">true</span> ,<span class="comment">//默认值是false</span></div><div class="line">           restrict:<span class="string">'EA'</span>,</div><div class="line">           <span class="attr">scope</span>:<span class="literal">false</span>,</div><div class="line">           <span class="attr">template</span>:<span class="string">''</span>+</div><div class="line">           <span class="string">'&lt;div&gt;'</span>+</div><div class="line">                <span class="string">'&lt;input type="text" ng-model = "name"/&gt;'</span>+</div><div class="line">                <span class="string">`'child:&#123;&#123;name&#125;&#125;'`</span>+</div><div class="line">           <span class="string">'&lt;/div&gt;'</span></div><div class="line">       &#125;</div><div class="line">    &#125;);</div><div class="line"></div><div class="line">    <span class="comment">//这种情势下的scope作用域是继承且隔离的，子作用域内的变量的改变不会对父作用域内的变量有任何的影响</span></div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div></pre></td></tr></table></figure>
<p>1.7.3  当我们将scope设置为{ }  的时候，此时子作用域无法再访问父作用域的变量值，这个时候需要我们做出一些调整，让子作用域可以访问父作用域的变量，但是不会污染父作用域</p>
<ul>
<li>采用 @ 进行单向绑定，也就是说，改变父作用域的name的值，directive里面的name也会改变，但是改变隔离区directive里面的name,父作用域里面的name是不会发生改变的;也就是达到<strong>继承且隔离</strong>的效果</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">ng-app</span> = <span class="string">'app'</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span> = <span class="string">'parent'</span> &gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">ng-model</span> = <span class="string">'name'</span>/&gt;</span></div><div class="line">    parent:`&#123;&#123;name&#125;&#125;`</div><div class="line"></div><div class="line">    <span class="comment">&lt;!--&lt;child name="&#123;&#123;name&#125;&#125;"&gt;&lt;/child&gt;--&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">child</span> <span class="attr">your-name</span>=`"&#123;&#123;<span class="attr">name</span>&#125;&#125;"`&gt;</span><span class="tag">&lt;/<span class="name">child</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line">    <span class="keyword">var</span> app = angular.module(<span class="string">'app'</span>,[]);</div><div class="line">    app.controller(<span class="string">'parent'</span>,[<span class="string">'$scope'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">$scope</span>)</span>&#123;</div><div class="line">        $scope.name = <span class="string">"Jhon"</span>;</div><div class="line">    &#125;]);</div><div class="line">    app.directive(<span class="string">'child'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="keyword">return</span> &#123;</div><div class="line">            <span class="attr">replace</span>:<span class="literal">true</span> ,<span class="comment">//默认值是false</span></div><div class="line">            restrict:<span class="string">'EA'</span>,</div><div class="line">            <span class="attr">scope</span>:&#123;</div><div class="line">              <span class="comment">//如果绑定的隔离作用域属性名与元素的属性名相同，则可以采用缺省写法</span></div><div class="line"><span class="comment">//                name:'@'   //对应&lt;child name="&#123;&#123;name&#125;&#125;"&gt;&lt;/child&gt; </span></div><div class="line">                name:<span class="string">"@yourName"</span></div><div class="line">            &#125;,</div><div class="line">            <span class="attr">template</span>:<span class="string">''</span>+</div><div class="line">            <span class="string">'&lt;div&gt;'</span>+</div><div class="line">            <span class="string">'&lt;input type="text" ng-model = "name"/&gt;'</span>+</div><div class="line">            <span class="string">`'child:&#123;&#123;name&#125;&#125;'`</span>+</div><div class="line">            <span class="string">'&lt;/div&gt;'</span></div><div class="line">        &#125;</div><div class="line">    &#125;);</div><div class="line">    <span class="comment">//这种情势下的scope作用域是继承且隔离的，子作用域内的变量的改变不会对父作用域内的变量有任何的影响</span></div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div></pre></td></tr></table></figure>
<p>此时template生成的html结构如下</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">your-name</span>=<span class="string">"Jhon"</span> <span class="attr">class</span>=<span class="string">"ng-binding ng-isolate-scope"</span>&gt;</span></div><div class="line">  	<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">ng-model</span>=<span class="string">"name"</span> <span class="attr">class</span>=<span class="string">"ng-valid ng-not-empty ng-dirty ng-touched"</span>&gt;</span>child:Jhon</div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//我们可以大致的模拟下ng-controller的实现原理</span></div><div class="line">app.directive(<span class="string">"myController"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;    </div><div class="line">  <span class="keyword">return</span> &#123;        </div><div class="line">    <span class="attr">scope</span>: <span class="literal">true</span>,   <span class="comment">//scope设置为true，     </span></div><div class="line">    controller: <span class="string">'@'</span>   </div><div class="line">  &#125;&#125;);</div></pre></td></tr></table></figure>
<ul>
<li>采用 = 进行双向绑定，也就是说，改变父作用域的name的值，directive里面的name也会改变，同样改变隔离区directive里面的name,父作用域里面的name是也会发生改变的;此时达到了 <strong>继承且不隔离</strong>的效果</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">ng-app</span> = <span class="string">'app'</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span> = <span class="string">'parent'</span> &gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">ng-model</span> = <span class="string">'name'</span>/&gt;</span></div><div class="line">    parent:`&#123;&#123;name&#125;&#125;`</div><div class="line"></div><div class="line">    <span class="tag">&lt;<span class="name">child</span> <span class="attr">name</span>=<span class="string">"name"</span>&gt;</span><span class="tag">&lt;/<span class="name">child</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="comment">&lt;!--需要注意的一点是和&lt;child name="&#123;&#123;name&#125;&#125;"&gt;&lt;/child&gt;的写法不同，不然效果出不来--&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line">    <span class="keyword">var</span> app = angular.module(<span class="string">'app'</span>,[]);</div><div class="line">    app.controller(<span class="string">'parent'</span>,[<span class="string">'$scope'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">$scope</span>)</span>&#123;</div><div class="line">        $scope.name = <span class="string">"Jhon"</span>;</div><div class="line">    &#125;]);</div><div class="line">    app.directive(<span class="string">'child'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="keyword">return</span> &#123;</div><div class="line">            <span class="attr">replace</span>:<span class="literal">true</span> ,<span class="comment">//默认值是false</span></div><div class="line">            restrict:<span class="string">'EA'</span>,</div><div class="line">            <span class="attr">scope</span>:&#123;</div><div class="line"><span class="comment">//</span></div><div class="line">                name:<span class="string">'='</span></div><div class="line">            &#125;,</div><div class="line">            <span class="attr">template</span>:<span class="string">''</span>+</div><div class="line">            <span class="string">'&lt;div&gt;'</span>+</div><div class="line">            <span class="string">'&lt;input type="text" ng-model = "name"/&gt;'</span>+</div><div class="line">            <span class="string">`'child:&#123;&#123;name&#125;&#125;'`</span>+</div><div class="line">            <span class="string">'&lt;/div&gt;'</span></div><div class="line">        &#125;</div><div class="line">    &#125;);</div><div class="line"></div><div class="line">    <span class="comment">//这种情势下的scope作用域是继承且隔离的，子作用域内的变量的改变不会对父作用域内的变量有任何的影响</span></div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div></pre></td></tr></table></figure>
<p>此时template生成的html结构如下</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">name</span>=<span class="string">"name"</span> <span class="attr">class</span>=<span class="string">"ng-binding ng-isolate-scope"</span>&gt;</span></div><div class="line">  	<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">ng-model</span>=<span class="string">"name"</span> <span class="attr">class</span>=<span class="string">"ng-valid ng-not-empty ng-dirty ng-touched ng-valid-parse"</span>&gt;</span>child:Jhon</div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p>上面这个栗子当时选择的不好，关于name容易混淆，这里在写一个清晰一点的</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">head</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">ng-app</span> = <span class="string">'myApp'</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span> = <span class="string">'stuInfoCtrl'</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">stu-info</span> <span class="attr">info</span> = <span class="string">'jhon'</span>&gt;</span><span class="tag">&lt;/<span class="name">stu-info</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">stu-info</span> <span class="attr">info</span> = <span class="string">'merry'</span>&gt;</span><span class="tag">&lt;/<span class="name">stu-info</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"../libs/angular.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line">    <span class="keyword">var</span> app = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">    app.controller(<span class="string">'stuInfoCtrl'</span>,[<span class="string">'$scope'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">$scope</span>)</span>&#123;</div><div class="line">        $scope.jhon = &#123;</div><div class="line">            <span class="attr">name</span> : <span class="string">"Jhon"</span>,</div><div class="line">            <span class="attr">age</span>  : <span class="number">17</span></div><div class="line">        &#125;</div><div class="line"></div><div class="line">        $scope.merry = &#123;</div><div class="line">            <span class="attr">name</span> : <span class="string">"merry"</span>,</div><div class="line">            <span class="attr">age</span>  : <span class="number">18</span></div><div class="line">        &#125;</div><div class="line"></div><div class="line">    &#125;]);</div><div class="line"></div><div class="line">    app.directive(<span class="string">'stuInfo'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="keyword">return</span> &#123;</div><div class="line">            <span class="attr">restrict</span> : <span class="string">'E'</span>,</div><div class="line">            <span class="comment">// = 号表示继承父作用域变量，通过这种方式可以将controller中的scope中的属性Jhon merry传递给给info属性,然后可以这里理解: isoleStuInfo = info = $scope.jack</span></div><div class="line">            scope :&#123;</div><div class="line">                <span class="attr">isoleStuInfo</span> : <span class="string">'=info'</span></div><div class="line">            &#125;,</div><div class="line"></div><div class="line">            <span class="attr">template</span> : <span class="string">'&lt;div&gt;stuName:`&#123;&#123;isoleStuInfo.name&#125;&#125;`&lt;/div&gt;&lt;div&gt;stuAge:`&#123;&#123;isoleStuInfo.age&#125;&#125;`&lt;/div&gt;'</span></div><div class="line">        &#125;</div><div class="line">    &#125;)</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<p>通过以上示例我们这样可以将字符串或者一个对象传入isolate scope中</p>
<h3 id="1-8-transclude属性-表明自定义的指令是否可以被嵌入，配合ng-transclude指令使用"><a href="#1-8-transclude属性-表明自定义的指令是否可以被嵌入，配合ng-transclude指令使用" class="headerlink" title="1.8  transclude属性  表明自定义的指令是否可以被嵌入，配合ng-transclude指令使用"></a>1.8  transclude属性  表明自定义的指令是否可以被嵌入，配合ng-transclude指令使用</h3><p> transclude是一个可选的参数。如果设置了,其值必须为true,它的默认值是false。我们可以将整个模板,包括其中的指令通过嵌入全部传入一个指令中。这样做可以将任意内 容和作用域传递给指令。transclude参数就是用来实现这个目的的,指令的内部可以访问外部 指令的作用域,并且模板也可以访问外部的作用域对象。 为了将作用域传递进去,scope参数的值必须通过{}或true设置成隔离作用域。如果没有设 置scope参数,那么指令内部的作用域将被设置为传入模板的作用域</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">head</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">ng-app</span> = <span class="string">'myApp'</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span> = <span class="string">'stuInfoCtrl'</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>this is Jhon<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">stu-info</span>  <span class="attr">ng-transclude</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span>&gt;</span>原来的内容jhon<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>`&#123;&#123;jhon.name&#125;&#125;`<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">stu-info</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>this is merry<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">stu-info</span> <span class="attr">ng-transclude</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span>&gt;</span>原来的内容merry<span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>`&#123;&#123;merry.name&#125;&#125;`<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">stu-info</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"../libs/angular.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line">    <span class="keyword">var</span> app = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">    app.controller(<span class="string">'stuInfoCtrl'</span>,[<span class="string">'$scope'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">$scope</span>)</span>&#123;</div><div class="line">        $scope.jhon = &#123;</div><div class="line">            <span class="attr">name</span> : <span class="string">"Jhon"</span>,</div><div class="line">            <span class="attr">age</span>  : <span class="number">17</span></div><div class="line">        &#125;</div><div class="line">        $scope.merry = &#123;</div><div class="line">            <span class="attr">name</span> : <span class="string">"merry"</span>,</div><div class="line">            <span class="attr">age</span>  : <span class="number">18</span></div><div class="line">        &#125;</div><div class="line">    &#125;]);</div><div class="line"></div><div class="line">    app.directive(<span class="string">'stuInfo'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="keyword">return</span> &#123;</div><div class="line">            <span class="attr">restrict</span> : <span class="string">'E'</span>,</div><div class="line">            <span class="comment">// = 号表示继承父作用域变量，通过这种方式可以将scope中的属性传递给给info属性的方式</span></div><div class="line">             transclude : <span class="literal">true</span> ,</div><div class="line">            <span class="attr">scope</span>:&#123;&#125;,</div><div class="line">            <span class="attr">template</span> : <span class="string">'&lt;div&gt;模板的内容&lt;/div&gt;'</span></div><div class="line">        &#125;</div><div class="line">    &#125;)</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<p>控制台最终的结果如下:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">this is Jhon</div><div class="line"></div><div class="line">模板的内容</div><div class="line">原来的内容jhon</div><div class="line">Jhon</div><div class="line"></div><div class="line">this is merry</div><div class="line"></div><div class="line">模板的内容</div><div class="line">原来的内容merry</div><div class="line">merry</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/11/20/126nodeJS /">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="JiM-W">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JiM-W">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/11/20/126nodeJS /" itemprop="url">
                  NodeJsFoundation
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-11-20T12:36:00+08:00">
                2016-11-20
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/nodejs/" itemprop="url" rel="index">
                    <span itemprop="name">nodejs</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>##1 node.js基础</p>
<ul>
<li>是建立在Chrome的JavaScript运行时很容易构建快速，可扩展的网络应用程序的平台。 Node.js使用<strong>事件驱动</strong>，<strong>非阻塞I/O模型</strong>，使得它重量轻，效率高，完美的跨分布式设备<strong>运行数据密集型</strong>实时应用。</li>
<li>传统的网络服务技术，是每个新增一个连接（请求）便生成一个新的线程，这个新的线程会占用系统内存，最终会占掉所有的可用内存。而 Node.js 仅仅只运行在一个单线程中，使用非 阻塞的异步 I/O 调用，所有连接都由该线程处理，在 libuv 的加分下，可以允许其<strong>支持数万并发连接</strong>（全部挂在该线程的<a href="http://en.wikipedia.org/wiki/Nodejs" target="_blank" rel="external">事件循环</a>中）。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Node.js = Runtime Environment + JavaScript Library</div></pre></td></tr></table></figure>
<h3 id="1-1-node-js的特性"><a href="#1-1-node-js的特性" class="headerlink" title="1.1 node.js的特性"></a>1.1 node.js的特性</h3><ul>
<li><strong>Node.js库异步和事件驱动 - </strong>所有API异步是非阻塞。 这意味着一个基于Node.js的服务器不会等待API返回数据。 服务器移动到下一个API后调用它，Node.js事件的一个通知机制有助于服务器，以获得从以API调用的响应。</li>
<li><strong>非常快</strong> - 正在构建在谷歌Chrome的V8 JavaScript引擎，Node.js库代码执行是非常快的。</li>
<li><strong>单线程但高度可扩展</strong> - Node.js使用事件循环单线程模型。事件机制有助于服务器在非阻塞的方式作出反应，并使得服务器的高可扩展性，而不是它创建线程限制来处理请求的传统服务器。 Node.js使用单线程的程序和同样的程序处理比传统的服务器要大的多，比如：比Apache HTTP服务器请求服务的数量大得多。</li>
<li><strong>无缓冲</strong> - Node.js的应用从来没有缓冲任何数据。这些应用程序只需输出块中的数据。</li>
<li><strong>许可证</strong> - Node.js是在MIT许可下发布的。</li>
</ul>
<h3 id="1-2-node-js使用"><a href="#1-2-node-js使用" class="headerlink" title="1.2 node.js使用"></a>1.2 node.js使用</h3><ul>
<li><p>引入 required 模块：我们可以使用 require 指令来载入 Node.js 模块。</p>
<p>这个是Node.js自带的http模块，然后将其赋值给http变量</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> http = <span class="built_in">require</span>(<span class="string">"http"</span>);</div></pre></td></tr></table></figure>
<ul>
<li>创建服务器：服务器可以监听客户端的请求，类似于 Apache 、Nginx 等 HTTP 服务器。以下代码可以建立一个正常工作的HTTP服务器；</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> http = <span class="built_in">require</span>(<span class="string">'http'</span>);</div><div class="line"><span class="comment">//http模块提供的函数:createSever，该函数会返回一个对象，这个对象有一个listen方法，listen方法有一个数值参数，指定  这个HTTP服务器监听的端口号</span></div><div class="line">http.createServer(<span class="function"><span class="keyword">function</span> (<span class="params">request, response</span>) </span>&#123;</div><div class="line"></div><div class="line">	<span class="comment">// 发送 HTTP 头部 </span></div><div class="line">	<span class="comment">// HTTP 状态值: 200 : OK</span></div><div class="line">	<span class="comment">// 内容类型: text/plain</span></div><div class="line">	response.writeHead(<span class="number">200</span>, &#123;<span class="string">'Content-Type'</span>: <span class="string">'text/plain'</span>&#125;);</div><div class="line"></div><div class="line">	<span class="comment">// 发送响应数据 "Hello World"</span></div><div class="line">	response.end(<span class="string">'Hello World\n'</span>);</div><div class="line">&#125;).listen(<span class="number">8888</span>);</div><div class="line"></div><div class="line"><span class="comment">// 终端打印如下信息</span></div><div class="line"><span class="built_in">console</span>.log(<span class="string">'Server running at http://127.0.0.1:8888/'</span>);</div></pre></td></tr></table></figure>
<ul>
<li>接收请求与响应请求 服务器很容易创建，客户端可以使用浏览器或终端发送 HTTP 请求，服务器接收请求后返回响应数据。</li>
</ul>
<h3 id="1-3-nodejs组成"><a href="#1-3-nodejs组成" class="headerlink" title="1.3 nodejs组成"></a>1.3 nodejs组成</h3><ul>
<li>核心模块  由node环境提供，比如http  fs，url , path等模块</li>
<li>第三方模块，由社区，比如第三方提供，例如gulp browerSync moment等</li>
</ul>
<p>##2 npm使用简介</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">$ npm -v  查看版本号</div><div class="line">$ npm install &lt;Module name&gt;  安装Node.js的模块的语法格式，比如</div><div class="line">$ npm install express (本地安装)这个是常用的web框架模块 express</div><div class="line">$ npm install express -g (全局安装)</div><div class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">"express"</span>) ; <span class="comment">//安装好之后，express 包就放在了工程目录下的 node_modules 目录中，因此在代码中只需要通过 require('express') 的方式就好，无需指定第三方包路径。</span></div><div class="line">$ npm uninstall express <span class="comment">//卸载Node.js模块</span></div><div class="line">$ npm ls 命令可以查看本地安装的包</div><div class="line">$ npm ls -g 命令可以查看全局安装的包</div><div class="line">$ npm search express 可以用来搜索模块</div><div class="line">$ npm init 可以创建模块，这个模块是你自己的模块，会创建一个package。json文件</div><div class="line">$ npm publish 可以发布模块，发布以后就可以像其他模块一样使用npm来进行安装</div><div class="line">比如 创建一个 $ npm init myMoudle 信息填写正确之后</div><div class="line">$ npm install myModule 可以安装这个模块</div></pre></td></tr></table></figure>
<h3 id="Package-json-属性说明"><a href="#Package-json-属性说明" class="headerlink" title="Package.json 属性说明"></a>Package.json 属性说明</h3><ul>
<li><strong>name</strong> - 包名。</li>
<li><strong>version</strong> - 包的版本号。</li>
<li><strong>description</strong> - 包的描述。</li>
<li><strong>homepage</strong> - 包的官网 url 。</li>
<li><strong>author</strong> - 包的作者姓名。</li>
<li><strong>contributors</strong> - 包的其他贡献者姓名。</li>
<li><strong>dependencies</strong> - 依赖包列表。如果依赖包没有安装，npm 会自动将依赖包安装在 node_module 目录下。</li>
<li><strong>repository</strong> - 包代码存放的地方的类型，可以是 git 或 svn，git 可在 Github 上。</li>
<li><strong>main</strong> - main 字段是一个模块ID，它是一个指向你程序的主要项目。就是说，如果你包的名字叫 express，然后用户安装它，然后require(“express”)。</li>
<li><strong>keywords</strong> - 关键字</li>
</ul>
<h3 id="NPM-常用命令"><a href="#NPM-常用命令" class="headerlink" title="NPM 常用命令"></a>NPM 常用命令</h3><p>除了本章介绍的部分外，NPM还提供了很多功能，package.json里也有很多其它有用的字段。</p>
<p>NPM提供了很多命令，例如install和publish，使用npm help可查看所有命令。</p>
<ul>
<li>NPM提供了很多命令，例如<code>install</code>和<code>publish</code>，使用<code>npm help</code>可查看所有命令。</li>
<li>使用<code>npm help</code>可查看某条命令的详细帮助，例如<code>npm help install</code>。</li>
<li>在<code>package.json</code>所在目录下使用<code>npm install . -g</code>可先在本地安装当前命令行程序，可用于发布前的本地测试。</li>
<li>使用<code>npm update</code>可以把当前目录下<code>node_modules</code>子目录里边的对应模块更新至最新版本。</li>
<li>使用<code>npm update  -g</code>可以把全局安装的对应命令行程序更新至最新版。</li>
<li>使用<code>npm cache clear</code>可以清空NPM本地缓存，用于对付使用相同版本号发布新版本代码的人。</li>
<li>使用<code>npm unpublish @</code>可以撤销发布自己发布过的某个版本代码。</li>
</ul>
<h2 id="3-Node-js-REPL-Read-Eval-Print-Loop-交互式解释器"><a href="#3-Node-js-REPL-Read-Eval-Print-Loop-交互式解释器" class="headerlink" title="3 Node.js REPL(Read Eval Print Loop) (交互式解释器)"></a>3 Node.js REPL(Read Eval Print Loop) (交互式解释器)</h2><ul>
<li><strong>读取</strong> - 读取用户输入，解析输入了Javascript 数据结构并存储在内存中。</li>
<li><strong>执行</strong> - 执行输入的数据结构</li>
<li><strong>打印</strong> - 输出结果</li>
<li><strong>循环</strong> - 循环操作以上步骤直到用户两次按下 <strong>ctrl-c</strong> 按钮退出。</li>
</ul>
<p>Node 的交互式解释器可以很好的调试 Javascript 代码。并且可以直接调试node核心模块的代码;</p>
<p>比如下面的一些调试方法</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div></pre></td><td class="code"><pre><div class="line">$ node   <span class="comment">//可以启动node的终端</span></div><div class="line">&gt; url.parse(<span class="string">'http://localhost:3000/a/b/c/d?name=Jhon'</span>,<span class="literal">true</span>)</div><div class="line">Url &#123;</div><div class="line">  <span class="attr">protocol</span>: <span class="string">'http:'</span>,</div><div class="line">  <span class="attr">slashes</span>: <span class="literal">true</span>,</div><div class="line">  <span class="attr">auth</span>: <span class="literal">null</span>,</div><div class="line">  <span class="attr">host</span>: <span class="string">'localhost:3000'</span>,</div><div class="line">  <span class="attr">port</span>: <span class="string">'3000'</span>,</div><div class="line">  <span class="attr">hostname</span>: <span class="string">'localhost'</span>,</div><div class="line">  <span class="attr">hash</span>: <span class="literal">null</span>,</div><div class="line">  <span class="attr">search</span>: <span class="string">'?name=Jhon'</span>,</div><div class="line">  <span class="attr">query</span>: &#123; <span class="attr">name</span>: <span class="string">'Jhon'</span> &#125;,</div><div class="line">  <span class="attr">pathname</span>: <span class="string">'/a/b/c/d'</span>,</div><div class="line">  <span class="attr">path</span>: <span class="string">'/a/b/c/d?name=Jhon'</span>,</div><div class="line">  <span class="attr">href</span>: <span class="string">'http://localhost:3000/a/b/c/d?name=Jhon'</span> &#125;</div><div class="line"><span class="comment">//使用简单表达式</span></div><div class="line">&gt; <span class="number">3</span>*<span class="number">6</span></div><div class="line"><span class="number">18</span></div><div class="line"><span class="comment">//使用变量</span></div><div class="line">&gt; <span class="keyword">var</span> x = <span class="number">10</span> </div><div class="line"><span class="literal">undefined</span>  <span class="comment">//使用var生命的变量可以使用console.log打印出来</span></div><div class="line">&gt; <span class="built_in">console</span>.log(x)</div><div class="line">&gt; <span class="built_in">console</span>.log(<span class="string">'hello there'</span>)</div><div class="line">&gt; x = <span class="number">10</span> </div><div class="line"><span class="number">10</span>       <span class="comment">//没有使用var声明的变量在回车键之后会直接打印出来</span></div><div class="line"><span class="comment">//多行表达式</span></div><div class="line">&gt; <span class="keyword">var</span> x = <span class="number">0</span></div><div class="line"><span class="literal">undefined</span></div><div class="line">&gt; <span class="keyword">do</span> &#123;</div><div class="line">... x++;  <span class="comment">//···符号是系统自动生成的，node会自动检测是否是连续的表达式</span></div><div class="line">... console.log(<span class="string">"x: "</span> + x);</div><div class="line">... &#125; <span class="keyword">while</span> ( x &lt; <span class="number">5</span> );</div><div class="line">x: <span class="number">1</span></div><div class="line">x: <span class="number">2</span></div><div class="line">x: <span class="number">3</span></div><div class="line">x: <span class="number">4</span></div><div class="line">x: <span class="number">5</span></div><div class="line"><span class="literal">undefined</span></div><div class="line"><span class="comment">//下划线(_) 变量可以直接获取表达式的运算结果</span></div><div class="line">&gt; <span class="keyword">var</span> x =<span class="number">100</span></div><div class="line"><span class="literal">undefined</span>    <span class="comment">//var声明的变量不会直接打印出来</span></div><div class="line">&gt; <span class="keyword">var</span> y = _  <span class="comment">// _ 变量可以获取表达式运算的结果</span></div><div class="line"><span class="literal">undefined</span>	<span class="comment">//var声明的变量不会直接打印出来</span></div><div class="line">&gt; x++      <span class="comment">//表达式运算的结果也会直接打印出来</span></div><div class="line"><span class="number">100</span></div><div class="line">&gt; <span class="keyword">var</span> y = _  </div><div class="line"><span class="literal">undefined</span></div><div class="line">&gt; <span class="built_in">console</span>.log(y)  <span class="comment">//打印运算结果</span></div><div class="line"><span class="number">100</span></div><div class="line"><span class="literal">undefined</span></div><div class="line">&gt; ++x</div><div class="line"><span class="number">102</span></div><div class="line">&gt; <span class="keyword">var</span> y = _</div><div class="line"><span class="literal">undefined</span></div><div class="line">&gt; <span class="built_in">console</span>.log(y)</div><div class="line"><span class="number">102</span></div><div class="line"><span class="literal">undefined</span></div><div class="line">&gt; x+y</div><div class="line"><span class="number">204</span></div><div class="line">&gt; <span class="keyword">var</span> z = _</div><div class="line"><span class="literal">undefined</span></div><div class="line">&gt; <span class="built_in">console</span>.log(z)</div><div class="line"><span class="number">204</span></div><div class="line">&gt;</div></pre></td></tr></table></figure>
<h3 id="REPL-命令"><a href="#REPL-命令" class="headerlink" title="REPL 命令"></a>REPL 命令</h3><ul>
<li><strong>ctrl + c</strong> - 退出当前终端。</li>
<li><strong>ctrl + c 按下两次</strong> - 退出 Node REPL。</li>
<li><strong>ctrl + d</strong> - 退出 Node REPL.</li>
<li><strong>向上/向下 键</strong> - 查看输入的历史命令</li>
<li><strong>tab 键</strong> - 列出当前命令</li>
<li><strong>.help</strong> - 列出使用命令</li>
<li><strong>.break</strong> - 退出多行表达式</li>
<li><strong>.clear</strong> - 退出多行表达式</li>
<li><strong>.save filename</strong> - 保存当前的 Node REPL 会话到指定文件</li>
<li><strong>.load filename</strong> - 载入当前 Node REPL 会话的文件内容。</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/11/19/19-transform(3d)：/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="JiM-W">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JiM-W">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/11/19/19-transform(3d)：/" itemprop="url">
                  Transform
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-11-19T12:36:00+08:00">
                2016-11-19
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/css/" itemprop="url" rel="index">
                    <span itemprop="name">css</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Transform(3d)：x轴向右是正方向，y轴向下是正方向，z轴垂直向外是正方向；注意transform:rotate(angle)，可以使元素发生旋转，发生旋转之后的元素，其对应的  x  y  z的方向指向会发生变化，本文重点讲解；</p>
<p><strong>在设置transition的前提下，transform变换才会有类似动画的效果</strong></p>
<p>一：首先看一些有关3d的常用属性：</p>
<ul>
<li><p>transform-origin：参数1   参数2 </p>
<p>设置对象的围绕的旋转中心，默认值是50% 50% </p>
</li>
</ul>
<p>参数1 取值：百分比  基准是元素自身宽度，length 值，left center right  分别旋转中心是水平方向的左边界  居中 和右边界</p>
<p>参数2  取值：百分比  基准是元素自身高度，length 值，top center bottom  分别旋转中心是水平方向的左边界  居中 和右边界</p>
<p>如果第二个值没有设置默认是50%；</p>
<ul>
<li><p>transform-style:flat | preserve-3d  默认是flat</p>
<p>指定某元素的子元素是（看起来）位于三维空间内，还是在该元素所在的平面内被扁平化。只有在设置该属性值为preserve-3d的时候，才会有rotatex  rotatey rotatez属性值，因为在2d里面只有rotate  </p>
</li>
</ul>
<p>当该属性值为「preserve-3d」时，元素将会创建局部堆叠上下文。<br>决定一个变换元素看起来是处在三维空间还是平面内，需要该元素的父元素上定义 &lt;’ transform-style ‘&gt; 属性。</p>
<ul>
<li>perspective ：none |length    默认是none</li>
</ul>
<p>指定某元素距离浏览器窗口的垂直于浏览器窗口的距离，当length&gt;0  的时候，会使得元素看起来比实际要大，length&lt;0 的时候，会使得元素看起来比实际要小。</p>
<ul>
<li>translate3d(x,y,z )三个参数不允许省略；</li>
</ul>
<p>二  老司机带带我，不要走错路</p>
<p>transform: rotate(angle)  translate(length  | percentage)之间的关系。translate的百分比取值元素自身的宽(x)和高(y)来确定移动的距离。</p>
<p>1 明确浏览器的解析过程，从上到下  从左到右</p>
<p>2 明确rotate()会使坐标也跟着旋转  </p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">head</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></div><div class="line">        img &#123;</div><div class="line">           /*transform: translateX(1000px) translateY(500px) rotateZ(90deg);*/</div><div class="line">          transform: translateX(1000px) rotateZ(90deg) translateX(500px);</div><div class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"img/car.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span> /&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<ul>
<li>代码执行过程1：</li>
</ul>
<p>transform: translateX(1000px) translateY(500px) rotateZ(90deg);</p>
<p>对应的图片如下：执行过程是先向x轴正方向移动1000px，在向y轴正方向移动500px,然后图片围绕元素中心旋转90deg。 </p>
<p><img src="img/xy1.jpg" alt="图xy1 : xy轴如下  "></p>
<p>执行完之后是</p>
<p><img src="img/xy2.jpg" alt="图xy2  :执行完rotateZ(90deg)"></p>
<ul>
<li><p>代码执行2 </p>
<p>transform: translateX(1000px) rotateZ(90deg) translateX(500px);</p>
</li>
</ul>
<p>最初状态是     图xy1  先向x轴正方向移动1000px 然后执行rotateZ(90deg),此时图片变换为   图xy2  所以这一步还是对应translateX(500px)来移动飞车。</p>
<p>注意：一般建议将旋转放在最后。不过还是眼看项目实际需求来</p>
<p>三  撸一段动画大家体验下：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">head</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></div><div class="line">        img &#123;</div><div class="line">            width: 200px;</div><div class="line">        &#125;</div><div class="line">        @keyframes autoMove&#123;</div><div class="line">            20%&#123;</div><div class="line">                /*0~40%的时候的变换过程,初始默认x向右 y向下 z垂直向外*/</div><div class="line">                transform:translatex(1000px)</div><div class="line">            &#125;</div><div class="line">            25%&#123;</div><div class="line">                /*40%~50%的时候的变换过程*/</div><div class="line">                transform: translatex(1000px)  rotatez(90deg);</div><div class="line">            &#125;</div><div class="line">            50%&#123;</div><div class="line">                /*50%~90%时候的变换过程*/</div><div class="line">                transform: translatex(1000px) translatey(500px) rotatez(90deg) ;</div><div class="line">            &#125;</div><div class="line">            55%&#123;</div><div class="line">                /*注意每次的变化都是在上一次的基础上进行变化*/</div><div class="line">                transform:translatex(1000px) translatey(500px)  rotatez(180deg);</div><div class="line">            &#125;</div><div class="line">            75% &#123;</div><div class="line">                transform:translatex(0px) translatey(500px) rotate(180deg);</div><div class="line">            &#125;</div><div class="line">            80% &#123;</div><div class="line">                transform: translatex(0px) translatey(500px) rotate(270deg);</div><div class="line">            &#125;</div><div class="line">            95% &#123;</div><div class="line">                transform: translatex(0px) translatey(0px) rotate(270deg);</div><div class="line">            &#125;</div><div class="line">            100%&#123;</div><div class="line">                transform:translatex(0px) translatey(0px) rotate(360deg);</div><div class="line">            &#125;</div><div class="line"></div><div class="line">        &#125;</div><div class="line">        .autoMove&#123;</div><div class="line">            </div><div class="line">            animation:autoMove 5s linear ;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">    /*注意，每次动画都要保持上一步动画的结果，才能继续进行动画，如果不保持上一步动画的结果，那么会导致动画回归到原来的值*/</div><div class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"img/car.jpg"</span> <span class="attr">alt</span>=<span class="string">""</span> <span class="attr">class</span>=<span class="string">"autoMove"</span>/&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<p>1 建议将每个阶段的动画注释掉，看下效果。</p>
<p>2  旋转的效果都是放在了最后，避免混乱。</p>
<p><img src="img/car.gif" alt="gif动画效果"></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/11/17/165AngularJsService/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="JiM-W">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JiM-W">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/11/17/165AngularJsService/" itemprop="url">
                  AngularJsService
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-11-17T12:36:00+08:00">
                2016-11-17
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/javascript-Angular/" itemprop="url" rel="index">
                    <span itemprop="name">javascript Angular</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>文墨(末)有彩蛋00哦</p>
<h3 id="1-先来了解以下angular的依赖"><a href="#1-先来了解以下angular的依赖" class="headerlink" title="1 先来了解以下angular的依赖"></a>1 先来了解以下angular的依赖</h3><p>Module依赖：在声明app模块时，需要给出依赖模块的列表。同时这些模块对应的JS需要在HTML中加以引入。在中可以直接使用依赖模块中声明的Service、Directive、Filter。</p>
<p>Service依赖：在声明Controller、Service、Directive、Filter的工厂方法中，把依赖的Service直接放到参数列表，Angular Injector会为你生成这些Service的实例。</p>
<h3 id="1-1-Services-定义"><a href="#1-1-Services-定义" class="headerlink" title="1.1  Services 定义"></a>1.1  Services 定义</h3><p>AngularJS services are substitutable objects that are wired together using <a href="https://docs.angularjs.org/guide/di" target="_blank" rel="external">dependency injection (DI)</a>. You can use services to organize and share code across your app.</p>
<p>AngularJS services are:</p>
<ul>
<li>Lazily instantiated – AngularJS only instantiates a service when an application component depends on it.</li>
<li>Singletons – Each component dependent on a service gets a reference to the single instance generated by the service factory.</li>
</ul>
<p>service通常用来进行不同的controller之间进行通信;</p>
<h3 id="1-2-service声明方式-provider-下面有五个API-factory-service-value-constant-provider-这些都是provider的封装-可以用来声明服务"><a href="#1-2-service声明方式-provider-下面有五个API-factory-service-value-constant-provider-这些都是provider的封装-可以用来声明服务" class="headerlink" title="1.2 service声明方式 $provider 下面有五个API  factory   service  value constant  provider(这些都是provider的封装) 可以用来声明服务"></a>1.2 service声明方式 $provider 下面有五个API  factory   service  value constant  provider(这些都是provider的封装) 可以用来声明服务</h3><p>1.2.1 最常见的方式：工厂方式,当someService作为依赖的时候，angular Injector会调用工厂方法，然后将返回值作为Service的实例传入依赖它的工厂方法</p>
<p>factory(name, fn)registers a service <strong>factory function</strong> that will be wrapped in a <strong>service provider</strong> object, whose $get  property will contain the given factory function.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">app.factory(<span class="string">'someService'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">dependency1, ...</span>)</span>&#123;</div><div class="line">    <span class="keyword">return</span> &#123;</div><div class="line">        <span class="attr">property1</span>: value1,</div><div class="line">        <span class="attr">property2</span>: value2</div><div class="line">    &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>走个小栗子</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">ng-app</span> = <span class="string">'myApp'</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"myCtrl"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">ng-model</span> = <span class="string">'info.name'</span> <span class="attr">placeholder</span>=<span class="string">"please input your name"</span>/&gt;</span></div><div class="line">   name:<span class="tag">&lt;<span class="name">p</span>&gt;</span>`&#123;&#123;info.name&#125;&#125;`<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">ng-model</span> = <span class="string">'info.age'</span> <span class="attr">placeholder</span>=<span class="string">"please input your age"</span>/&gt;</span></div><div class="line">    age:<span class="tag">&lt;<span class="name">p</span>&gt;</span>`&#123;&#123;info.age&#125;&#125;`<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line">    <span class="keyword">var</span> myApp = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line"></div><div class="line">    myApp.factory(<span class="string">'myService'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="keyword">return</span> &#123;</div><div class="line">            <span class="attr">name</span> : <span class="string">"Jhon"</span>,</div><div class="line">            <span class="attr">age</span> : <span class="number">18</span>,</div><div class="line">        &#125;</div><div class="line">    &#125;);</div><div class="line">    myApp.controller(<span class="string">'myCtrl'</span>,[<span class="string">"$scope"</span>,<span class="string">"myService"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">$scope,myService</span>)</span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="built_in">arguments</span>);</div><div class="line">        $scope.info = myService ;</div><div class="line">    &#125;]);</div><div class="line">    </div><div class="line"></div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div></pre></td></tr></table></figure>
<p>1.2.2  最直接的方式：构造函数 当someService作为依赖的时候，angular Injector会以new的方式调用该构造函数，然后将返回值作为Service的实例传入依赖它的工厂方法</p>
<p>service(name, Fn)  registers a <strong>constructor function</strong> that will be wrapped in a <strong>service provider</strong> object, whose $get  property will instantiate a new object using the given constructor function.</p>
<p>我们可以定义私有变量和共有变量</p>
<p>先来看下内部实现机制,angular Injector会以new的方式调用构造函数，然后将返回值传入依赖；</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Service</span> (<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="keyword">this</span>.public = &#123;</div><div class="line">            <span class="attr">name</span> : <span class="string">"Jhon"</span>,</div><div class="line">            <span class="attr">age</span> :<span class="number">18</span></div><div class="line">        &#125;</div><div class="line">        <span class="keyword">var</span> private = &#123;</div><div class="line">            <span class="attr">name</span> :<span class="string">"JiM"</span>,</div><div class="line">            <span class="attr">age</span> : <span class="number">20</span></div><div class="line">        &#125;</div><div class="line">        <span class="keyword">this</span>.getPri = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">            <span class="keyword">return</span> private ;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">    &#125;</div><div class="line">    <span class="keyword">var</span> service = <span class="keyword">new</span> Service();</div><div class="line">    <span class="built_in">console</span>.log(service);</div><div class="line">    <span class="built_in">console</span>.log(service.getPri());</div><div class="line">   </div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">app.service(<span class="string">'someService'</span>, someService(dependency1, ...)&#123;</div><div class="line">    <span class="keyword">this</span>.property1 = value1;</div><div class="line">    <span class="keyword">this</span>.property2 = value2;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">ng-app</span> = <span class="string">'myApp'</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">ng-controller</span>=<span class="string">"myCtrl"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">ng-model</span> = <span class="string">'info.name'</span> <span class="attr">placeholder</span>=<span class="string">"please input your name"</span>/&gt;</span></div><div class="line">    public name:<span class="tag">&lt;<span class="name">p</span>&gt;</span>`&#123;&#123;info.name&#125;&#125;`<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">ng-model</span> = <span class="string">'info.age'</span> <span class="attr">placeholder</span>=<span class="string">"please input your age"</span>/&gt;</span></div><div class="line">    public age:<span class="tag">&lt;<span class="name">p</span>&gt;</span>`&#123;&#123;info.age&#125;&#125;`<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"></div><div class="line">    private name : <span class="tag">&lt;<span class="name">p</span>&gt;</span>`&#123;&#123;infoPri.name&#125;&#125;`<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">    private name : <span class="tag">&lt;<span class="name">p</span>&gt;</span>`&#123;&#123;infoPri.age&#125;&#125;`<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></div><div class="line">    <span class="keyword">var</span> myApp = angular.module(<span class="string">'myApp'</span>,[]);</div><div class="line">    myApp.service(<span class="string">'myService'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="keyword">this</span>.public = &#123;</div><div class="line">            <span class="attr">name</span> : <span class="string">"Jhon"</span>,</div><div class="line">            <span class="attr">age</span> :<span class="number">18</span></div><div class="line">        &#125;</div><div class="line">        <span class="keyword">var</span> private = &#123;</div><div class="line">            <span class="attr">name</span> :<span class="string">"JiM"</span>,</div><div class="line">            <span class="attr">age</span> : <span class="number">20</span></div><div class="line">        &#125;</div><div class="line">        <span class="keyword">this</span>.getPri = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">            <span class="keyword">return</span> private ;</div><div class="line">        &#125;</div><div class="line">    &#125;);</div><div class="line">    myApp.controller(<span class="string">'myCtrl'</span>,[<span class="string">"$scope"</span>,<span class="string">"myService"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">$scope,myService</span>)</span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="built_in">arguments</span>);</div><div class="line">        $scope.info = myService.public ;</div><div class="line">        $scope.infoPri = myService.getPri();</div><div class="line">    &#125;]);</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div></pre></td></tr></table></figure>
<p>1.2.3 最简单的方式</p>
<h3 id="value-name-value"><a href="#value-name-value" class="headerlink" title="value(name, value);"></a>value(name, value);</h3><p>Register a <strong>value service</strong> with the <a href="https://docs.angularjs.org/api/auto/service/$injector" target="_blank" rel="external">$injector</a>, such as a string, a number, an array, an object or a function. This is short for registering a service where its provider’s <code>$get</code> property is a factory function that takes no arguments and returns the <strong>value service</strong>. That also means it is not possible to inject other services into a value service.</p>
<p>Value services are similar to constant services, except that they cannot be injected into a module configuration function (see <a href="https://docs.angularjs.org/api/ng/type/angular.Module#config" target="_blank" rel="external"><code>angular.Module</code></a>) but they can be overridden by an AngularJS <a href="https://docs.angularjs.org/api/auto/service/$provide#decorator" target="_blank" rel="external">decorator</a>.</p>
<h3 id="constant-name-value"><a href="#constant-name-value" class="headerlink" title="constant(name, value);"></a>constant(name, value);</h3><p>Register a <strong>constant service</strong> with the <a href="https://docs.angularjs.org/api/auto/service/$injector" target="_blank" rel="external">$injector</a>, such as a string, a number, an array, an object or a function. Like the <a href="https://docs.angularjs.org/api/auto/service/$provide#value" target="_blank" rel="external">value</a>, it is not possible to inject other services into a constant.</p>
<p>But unlike <a href="https://docs.angularjs.org/api/auto/service/$provide#value" target="_blank" rel="external">value</a>, a constant can be injected into a module configuration function (see <a href="https://docs.angularjs.org/api/ng/type/angular.Module#config" target="_blank" rel="external"><code>angular.Module</code></a>) and it cannot be overridden by an AngularJS <a href="https://docs.angularjs.org/api/auto/service/$provide#decorator" target="_blank" rel="external">decorator</a>.</p>
<ul>
<li>两者的相同之处就是不能依赖其他的service,</li>
<li>两者的不同之处就是value不能注册进其他模块，但是constant可以被注册进其他模块</li>
<li>两者的不同之处还有就是value可以被decorator重写，但是constant不能被重写，constant常量的意思</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">app.value(<span class="string">'someService'</span>, &#123; <span class="attr">property1</span>: value1, <span class="attr">property2</span>: value2&#125;);</div><div class="line"></div><div class="line">app.constant(<span class="string">'anotherService'</span>, <span class="string">'I am a simple string'</span>);</div></pre></td></tr></table></figure>
<h3 id="decorator-name-decorator"><a href="#decorator-name-decorator" class="headerlink" title="decorator(name, decorator);"></a>decorator(name, decorator);</h3><p>Register a <strong>decorator function</strong> with the <a href="https://docs.angularjs.org/api/auto/service/$injector" target="_blank" rel="external">$injector</a>. A decorator function intercepts the creation of a service, allowing it to override or modify the behavior of the service. The return value of the decorator function may be the original service, or a new service that replaces (or wraps and delegates to) the original service.</p>
<p>You can find out more about using decorators in the <a href="https://docs.angularjs.org/guide/decorators" target="_blank" rel="external">decorators</a> guide.</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/5/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><span class="page-number current">6</span><a class="page-number" href="/page/7/">7</a><span class="space">&hellip;</span><a class="page-number" href="/page/18/">18</a><a class="extend next" rel="next" href="/page/7/"><i class="fa fa-angle-right"></i></a>
  </nav>


          
          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/uploads/avatar.jpg"
               alt="JiM-W" />
          <p class="site-author-name" itemprop="name">JiM-W</p>
           
              <p class="site-description motion-element" itemprop="description">keep fighting！</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">178</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">51</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">83</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">JiM-W</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    
    
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  




  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.0"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  



  




	





  





  





  



  
  

  

  

  

  


  

</body>
</html>
