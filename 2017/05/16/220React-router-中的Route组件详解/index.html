<!doctype html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="router," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="1 Route组件The Route component is perhaps the most important component in React Router to understand and learn to use well. Its most basic responsibility is to render some UI when a location matches the">
<meta property="og:type" content="article">
<meta property="og:title" content="React-router 中的Route组件详解">
<meta property="og:url" content="http://yoursite.com/2017/05/16/220React-router-中的Route组件详解/index.html">
<meta property="og:site_name" content="JiM-W">
<meta property="og:description" content="1 Route组件The Route component is perhaps the most important component in React Router to understand and learn to use well. Its most basic responsibility is to render some UI when a location matches the">
<meta property="og:updated_time" content="2017-05-22T02:17:18.312Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="React-router 中的Route组件详解">
<meta name="twitter:description" content="1 Route组件The Route component is perhaps the most important component in React Router to understand and learn to use well. Its most basic responsibility is to render some UI when a location matches the">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2017/05/16/220React-router-中的Route组件详解/"/>





  <title> React-router 中的Route组件详解 | JiM-W </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  














  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">JiM-W</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">keep Moving</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/05/16/220React-router-中的Route组件详解/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="JiM-W">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JiM-W">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                React-router 中的Route组件详解
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-05-16T12:36:00+08:00">
                2017-05-16
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/react/" itemprop="url" rel="index">
                    <span itemprop="name">react</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <h3 id="1-Route组件"><a href="#1-Route组件" class="headerlink" title="1 Route组件"></a>1 Route组件</h3><p>The Route component is perhaps the most important component in React Router to understand and learn to use well. Its most basic responsibility is to render some UI when a <a href="https://github.com/ReactTraining/react-router/blob/master/packages/react-router/docs/api/location.md" target="_blank" rel="external">location</a> matches the route’s <code>path</code>.</p>
<p>Consider the following code:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">import &#123; BrowserRouter as Router, Route &#125; from &apos;react-router-dom&apos;</div><div class="line"></div><div class="line">&lt;Router&gt;</div><div class="line">  &lt;div&gt;</div><div class="line">    &lt;Route exact path=&quot;/&quot; component=&#123;Home&#125;/&gt;</div><div class="line">    &lt;Route path=&quot;/news&quot; component=&#123;NewsFeed&#125;/&gt;</div><div class="line">  &lt;/div&gt;</div><div class="line">&lt;/Router&gt;</div></pre></td></tr></table></figure>
<p>If the location of the app is <code>/</code> then the UI hierarchy will be something like:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;div&gt;</div><div class="line">  &lt;Home/&gt;</div><div class="line">  &lt;!-- react-empty: 2 --&gt;</div><div class="line">&lt;/div&gt;</div></pre></td></tr></table></figure>
<p>And if the location of the app is <code>/news</code> then the UI hierarchy will be:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;div&gt;</div><div class="line">  &lt;!-- react-empty: 1 --&gt;</div><div class="line">  &lt;NewsFeed/&gt;</div><div class="line">&lt;/div&gt;</div></pre></td></tr></table></figure>
<p>The “react-empty” comments are just implementation details of React’s <code>null</code> rendering. But for our purposes, it is instructive. A Route is always technically “rendered” even though its rendering <code>null</code>. As soon as the app location matches the route’s path, your component will be rendered.</p>
<p>####Route render methods</p>
<p>There are 3 ways to render something with a <code>&lt;Route&gt;</code>:</p>
<ul>
<li><code>&lt;Route component /&gt;</code></li>
<li><code>&lt;Route render /&gt;</code></li>
<li><code>&lt;Route children /&gt;</code></li>
</ul>
<p>Each is useful in different circumstances. You should use only one of these props on a given <code>&lt;Route&gt;</code>. See their explanations below to understand why you have 3 options. Most of the time you’ll use <code>component</code>.</p>
<h4 id="Route-props"><a href="#Route-props" class="headerlink" title="Route props"></a>Route props</h4><p>All three <a href="https://github.com/ReactTraining/react-router/blob/master/packages/react-router/docs/api/Route.md#route-render-methods" target="_blank" rel="external">render methods</a> will be passed the same three route props</p>
<ul>
<li><a href="https://github.com/ReactTraining/react-router/blob/master/packages/react-router/docs/api/match.md" target="_blank" rel="external">match</a></li>
<li><a href="https://github.com/ReactTraining/react-router/blob/master/packages/react-router/docs/api/location.md" target="_blank" rel="external">location</a></li>
<li><a href="https://github.com/ReactTraining/react-router/blob/master/packages/react-router/docs/api/history.md" target="_blank" rel="external">history</a></li>
</ul>
<h4 id="component"><a href="#component" class="headerlink" title="component"></a>component</h4><p>A React component to render only when the location matches. It will be rendered with <a href="https://github.com/ReactTraining/react-router/blob/master/packages/react-router/docs/api/Route.md#route-props" target="_blank" rel="external">route props</a>.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;Route path=&quot;/user/:username&quot; component=&#123;User&#125;/&gt;</div><div class="line"></div><div class="line">const User = (&#123; match &#125;) =&gt; &#123;</div><div class="line">  return &lt;h1&gt;Hello &#123;match.params.username&#125;!&lt;/h1&gt;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>When you use <code>component</code> (instead of <code>render</code> or <code>children</code>, below) the router uses <a href="https://facebook.github.io/react/docs/react-api.html#createelement" target="_blank" rel="external"><code>React.createElement</code></a> to create a new <a href="https://facebook.github.io/react/docs/rendering-elements.html" target="_blank" rel="external">React element</a> from the given component. That means if you provide an inline function to the <code>component</code> attribute, you would create a new component every render. This results in the existing component unmounting and the new component mounting instead of just updating the existing component. When using an inline function for inline rendering, use the <code>render</code> or the <code>children</code> prop (below).</p>
<h4 id="render-func"><a href="#render-func" class="headerlink" title="render: func"></a>render: func</h4><p>This allows for convenient inline rendering and wrapping without the undesired remounting explained above.</p>
<p>Instead of having a new <a href="https://facebook.github.io/react/docs/rendering-elements.html" target="_blank" rel="external">React element</a> created for you using the <a href="https://github.com/ReactTraining/react-router/blob/master/packages/react-router/docs/api/Route.md#component-func" target="_blank" rel="external"><code>component</code></a> prop, you can pass in a function to be called when the location matches. The <code>render</code> prop receives all the same <a href="https://github.com/ReactTraining/react-router/blob/master/packages/react-router/docs/api/Route.md#route-props" target="_blank" rel="external">route props</a> as the <code>component</code> render prop.</p>
<p>当路径匹配到了的时候,就会执行render函数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">// convenient inline rendering</div><div class="line">&lt;Route path=&quot;/home&quot; render=&#123;() =&gt; &lt;div&gt;Home&lt;/div&gt;&#125;/&gt;</div><div class="line"></div><div class="line">// wrapping/composing</div><div class="line">const FadingRoute = (&#123; component: Component, ...rest &#125;) =&gt; (</div><div class="line">  &lt;Route &#123;...rest&#125; render=&#123;props =&gt; (</div><div class="line">    &lt;FadeIn&gt;</div><div class="line">      &lt;Component &#123;...props&#125;/&gt;</div><div class="line">    &lt;/FadeIn&gt;</div><div class="line">  )&#125;/&gt;</div><div class="line">)</div><div class="line"></div><div class="line">&lt;FadingRoute path=&quot;/cool&quot; component=&#123;Something&#125;/&gt;</div></pre></td></tr></table></figure>
<p><strong>Warning:</strong> <code>&lt;Route component&gt;</code> takes precendence over <code>&lt;Route render&gt;</code> so don’t use both in the same <code>&lt;Route&gt;</code>.</p>
<h4 id="children-func"><a href="#children-func" class="headerlink" title="children: func"></a>children: func</h4><p>Sometimes you need to render whether the path matches the location or not. In these cases, you can use the function <code>children</code> prop. It works exactly like <code>render</code> except that it gets called whether there is a match or not.</p>
<p>无论path是否匹配到了路径,都会渲染children</p>
<p>The <code>children</code> render prop receives all the same <a href="https://github.com/ReactTraining/react-router/blob/master/packages/react-router/docs/api/Route.md#route-props" target="_blank" rel="external">route props</a> as the <code>component</code> and <code>render</code> methods, except when a route fails to match the URL, then <code>match</code> is <code>null</code>. This allows you to dynamically adjust your UI based on whether or not the route matches. Here we’re adding an <code>active</code> class if the route matches</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">&lt;ul&gt;</div><div class="line">  &lt;ListItemLink to=&quot;/somewhere&quot;/&gt;</div><div class="line">  &lt;ListItemLink to=&quot;/somewhere-else&quot;/&gt;</div><div class="line">&lt;/ul&gt;</div><div class="line"></div><div class="line">const ListItemLink = (&#123; to, ...rest &#125;) =&gt; (</div><div class="line">  &lt;Route path=&#123;to&#125; children=&#123;(&#123; match &#125;) =&gt; (</div><div class="line">    &lt;li className=&#123;match ? &apos;active&apos; : &apos;&apos;&#125;&gt;</div><div class="line">      &lt;Link to=&#123;to&#125; &#123;...rest&#125;/&gt;</div><div class="line">    &lt;/li&gt;</div><div class="line">  )&#125;/&gt;</div><div class="line">)</div></pre></td></tr></table></figure>
<p>This could also be useful for animations:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&lt;Route children=&#123;(&#123; match, ...rest &#125;) =&gt; (</div><div class="line">  &#123;/* Animate will always render, so you can use lifecycles</div><div class="line">      to animate its child in and out */&#125;</div><div class="line">  &lt;Animate&gt;</div><div class="line">    &#123;match &amp;&amp; &lt;Something &#123;...rest&#125;/&gt;&#125;</div><div class="line">  &lt;/Animate&gt;</div><div class="line">)&#125;/&gt;</div></pre></td></tr></table></figure>
<p><strong>Warning:</strong> Both <code>&lt;Route component&gt;</code> and <code>&lt;Route render&gt;</code> take precendence over <code>&lt;Route children&gt;</code> so don’t use more than one in the same <code>&lt;Route&gt;</code>.</p>
<h4 id="path-string"><a href="#path-string" class="headerlink" title="path: string"></a>path: string</h4><p>Any valid URL path that <a href="https://www.npmjs.com/package/path-to-regexp" target="_blank" rel="external"><code>path-to-regexp</code></a> understands.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;Route path=&quot;/users/:id&quot; component=&#123;User&#125;/&gt;</div></pre></td></tr></table></figure>
<p><strong>Routes without a <code>path</code> <em>always</em> match.</strong></p>
<p>如果一个Route组件没有path属性,那么这个组件将总会被渲染.</p>
<p><strong>Route组件的path路径如果包含  :  变量,那么匹配到的所有的符合变量路径都会被渲染</strong>,如果想要保证唯一性,可以通过使用Switch组件进行匹配到一个则不进行往下匹配选择性渲染.</p>
<h4 id="exact-bool"><a href="#exact-bool" class="headerlink" title="exact: bool"></a>exact: bool</h4><p>When <code>true</code>, will only match if the path matches the <code>location.pathname</code> <em>exactly</em>.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;Route exact path=&quot;/one&quot; component=&#123;About&#125;/&gt;</div></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>path</th>
<th>location.pathname</th>
<th>exact</th>
<th>matches?</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>/one</code></td>
<td><code>/one/two</code></td>
<td><code>true</code></td>
<td>no</td>
</tr>
<tr>
<td><code>/one</code></td>
<td><code>/one/two</code></td>
<td><code>false</code></td>
<td>yes</td>
</tr>
</tbody>
</table>
<h4 id="strict-bool"><a href="#strict-bool" class="headerlink" title="strict: bool"></a>strict: bool</h4><p>When <code>true</code>, a <code>path</code> that has a trailing slash will only match a <code>location.pathname</code> with a trailing slash. This has no effect when there are additional URL segments in the <code>location.pathname</code>.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;Route strict path=&quot;/one/&quot; component=&#123;About&#125;/&gt;</div></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>path</th>
<th>location.pathname</th>
<th>matches?</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>/one/</code></td>
<td><code>/one</code></td>
<td>no</td>
</tr>
<tr>
<td><code>/one/</code></td>
<td><code>/one/</code></td>
<td>yes</td>
</tr>
<tr>
<td><code>/one/</code></td>
<td><code>/one/two</code></td>
<td>yes</td>
</tr>
</tbody>
</table>
<p><strong>Warning:</strong> <code>strict</code> can be used to enforce that a <code>location.pathname</code> has no trailing slash, but in order to do this both <code>strict</code>and <code>exact</code> must be <code>true</code>.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;Route exact strict path=&quot;/one&quot; component=&#123;About&#125;/&gt;</div></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>path</th>
<th>location.pathname</th>
<th>matches?</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>/one</code></td>
<td><code>/one</code></td>
<td>yes</td>
</tr>
<tr>
<td><code>/one</code></td>
<td><code>/one/</code></td>
<td>no</td>
</tr>
<tr>
<td><code>/one</code></td>
<td><code>/one/two</code></td>
<td>no</td>
</tr>
</tbody>
</table>
<h3 id="2-Demo案例"><a href="#2-Demo案例" class="headerlink" title="2 Demo案例"></a>2 Demo案例</h3><figure class="highlight jsx"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span></div><div class="line"><span class="keyword">import</span> &#123;</div><div class="line">  BrowserRouter <span class="keyword">as</span> Router,</div><div class="line">  Route,</div><div class="line">  Link</div><div class="line">&#125; <span class="keyword">from</span> <span class="string">'react-router-dom'</span></div><div class="line"><span class="keyword">const</span> Repo = <span class="function"><span class="params">()</span>=&gt;</span>(<span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>this is Repo<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>)</div><div class="line"><span class="keyword">const</span> Category = <span class="function">(<span class="params">props</span>)=&gt;</span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(props);</div><div class="line">  <span class="keyword">return</span> (<span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>this is category<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>)</div><div class="line">&#125;</div><div class="line"><span class="keyword">const</span> MyTest =<span class="function"><span class="params">()</span>=&gt;</span>(</div><div class="line">  <span class="xml"><span class="tag">&lt;<span class="name">Router</span>&gt;</span></span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">ul</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span></div><div class="line">          <span class="tag">&lt;<span class="name">Link</span> <span class="attr">to</span>=<span class="string">'/about'</span>&gt;</span>About<span class="tag">&lt;/<span class="name">Link</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span></div><div class="line">          <span class="tag">&lt;<span class="name">Link</span> <span class="attr">to</span>=<span class="string">'./repo'</span>&gt;</span>Repo<span class="tag">&lt;/<span class="name">Link</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">      </div><div class="line">        <span class="tag">&lt;<span class="name">li</span>&gt;</span></div><div class="line">          <span class="tag">&lt;<span class="name">Link</span> <span class="attr">to</span>=<span class="string">'./category'</span>&gt;</span>Category<span class="tag">&lt;/<span class="name">Link</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">      <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">Route</span> <span class="attr">exact</span> <span class="attr">path</span>=<span class="string">'/about'</span> <span class="attr">render</span>=<span class="string">&#123;(props)</span>=&gt;</span>&#123;console.log(props);return (<span class="tag">&lt;<span class="name">div</span>&gt;</span>this is aabout<span class="tag">&lt;/<span class="name">div</span>&gt;</span>)</div><div class="line">      &#125;&#125;&gt;<span class="tag">&lt;/<span class="name">Route</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">Route</span> <span class="attr">exact</span> <span class="attr">path</span>=<span class="string">'/repo'</span> <span class="attr">component</span>=<span class="string">&#123;Repo&#125;</span>&gt;</span> <span class="tag">&lt;/<span class="name">Route</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">Route</span> <span class="attr">exact</span> <span class="attr">path</span>=<span class="string">'/category'</span> <span class="attr">component</span>=<span class="string">&#123;Category&#125;</span>&gt;</span> <span class="tag">&lt;/<span class="name">Route</span>&gt;</span></div><div class="line">    </div><div class="line">      <span class="tag">&lt;<span class="name">Route</span> <span class="attr">children</span>=<span class="string">&#123;(props)</span>=&gt;</span>&#123;console.log(props);return (<span class="tag">&lt;<span class="name">div</span>&gt;</span>this is a component build througth children<span class="tag">&lt;/<span class="name">div</span>&gt;</span>)</div><div class="line">      &#125;&#125;&gt;<span class="tag">&lt;/<span class="name">Route</span>&gt;</span></div><div class="line">    </div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">  </div><div class="line">  </div><div class="line">  <span class="tag">&lt;/<span class="name">Router</span>&gt;</span></div><div class="line">)</div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> MyTest</div></pre></td></tr></table></figure>
<p>Recursive递归 : match对象的使用,path就是Route组件的path值,params对象存放的是 :id 的key/value对应的值,value值是字符串,url是当前路径的url值.</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span></div><div class="line"><span class="keyword">import</span> &#123;</div><div class="line">  BrowserRouter <span class="keyword">as</span> Router,</div><div class="line">  Route,</div><div class="line">  Link</div><div class="line">&#125; <span class="keyword">from</span> <span class="string">'react-router-dom'</span></div><div class="line"><span class="comment">//这个时候的UI视图就是根据数据来呈现的</span></div><div class="line"><span class="keyword">const</span> PEEPS = [</div><div class="line">  &#123; <span class="attr">id</span>: <span class="number">0</span>, <span class="attr">name</span>: <span class="string">'Michelle'</span>, <span class="attr">friends</span>: [ <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span> ] &#125;,</div><div class="line">  &#123; <span class="attr">id</span>: <span class="number">1</span>, <span class="attr">name</span>: <span class="string">'Sean'</span>, <span class="attr">friends</span>: [ <span class="number">0</span>, <span class="number">3</span> ] &#125;,</div><div class="line">  &#123; <span class="attr">id</span>: <span class="number">2</span>, <span class="attr">name</span>: <span class="string">'Kim'</span>, <span class="attr">friends</span>: [ <span class="number">0</span>, <span class="number">1</span>, <span class="number">3</span> ], &#125;,</div><div class="line">  &#123; <span class="attr">id</span>: <span class="number">3</span>, <span class="attr">name</span>: <span class="string">'David'</span>, <span class="attr">friends</span>: [ <span class="number">1</span>, <span class="number">2</span> ] &#125;</div><div class="line">]</div><div class="line"></div><div class="line"><span class="keyword">const</span> find = <span class="function">(<span class="params">id</span>) =&gt;</span> PEEPS.find( <span class="function"><span class="params">p</span>=&gt;</span>p.id == id )</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">const</span> RecursiveExample = <span class="function"><span class="params">()</span>=&gt;</span>(</div><div class="line"></div><div class="line">  <span class="xml"><span class="tag">&lt;<span class="name">Router</span>&gt;</span></span></div><div class="line">    <span class="tag">&lt;<span class="name">Person</span> <span class="attr">match</span>=<span class="string">&#123;&#123;params:&#123;id:0&#125;,url:</span>''&#125;&#125;&gt;</span><span class="tag">&lt;/<span class="name">Person</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">Router</span>&gt;</span></div><div class="line">)</div><div class="line"></div><div class="line"><span class="keyword">const</span> Person = <span class="function">(<span class="params">&#123;match&#125;</span>)=&gt;</span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">'match'</span>,match);</div><div class="line">  </div><div class="line">  <span class="keyword">const</span> person = find(match.params.id)</div><div class="line">  <span class="built_in">console</span>.log(person);</div><div class="line">  </div><div class="line">  <span class="keyword">return</span> (</div><div class="line">    <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></div><div class="line">      <span class="tag">&lt;<span class="name">h3</span>&gt;</span>&#123;person.name&#125;'s friends<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">ul</span>&gt;</span></div><div class="line">        &#123;person.friends.map(id=&gt;(</div><div class="line">          <span class="tag">&lt;<span class="name">li</span> <span class="attr">key</span>=<span class="string">&#123;id&#125;</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">Link</span> <span class="attr">to</span>=<span class="string">&#123;</span>`$&#123;<span class="attr">match.url</span>&#125;/$&#123;<span class="attr">id</span>&#125;`&#125;&gt;</span></div><div class="line">              &#123;find(id).name&#125;</div><div class="line">            <span class="tag">&lt;/<span class="name">Link</span>&gt;</span></div><div class="line">          <span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">        ))&#125;</div><div class="line">  </div><div class="line">      <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">Route</span> <span class="attr">path</span>=<span class="string">&#123;</span>`$&#123;<span class="attr">match.url</span>&#125;/<span class="attr">:id</span>`&#125; <span class="attr">component</span>=<span class="string">&#123;Person&#125;</span>&gt;</span><span class="tag">&lt;/<span class="name">Route</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">  )</div><div class="line">  </div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> RecursiveExample</div></pre></td></tr></table></figure>
<h3 id="3-Route组件会将history-location-match这三个对象传递给component-render-以及children中的props"><a href="#3-Route组件会将history-location-match这三个对象传递给component-render-以及children中的props" class="headerlink" title="3 Route组件会将history  location   match这三个对象传递给component    render    以及children中的props"></a>3 Route组件会将history  location   match这三个对象传递给component    render    以及children中的props</h3><ul>
<li><code>&lt;Route component /&gt;</code></li>
<li><code>&lt;Route render /&gt;</code></li>
<li><code>&lt;Route children /&gt;</code></li>
</ul>
<p>这三种方式创建的组件的props属性中.</p>
<h3 id="4-Routee组件作为路由根组件需要注意两点"><a href="#4-Routee组件作为路由根组件需要注意两点" class="headerlink" title="4 Routee组件作为路由根组件需要注意两点"></a>4 Routee组件作为路由根组件需要注意两点</h3><ul>
<li>Router组件只允许有一个子元素,不允许有并行的子元素</li>
<li>Router组件可以通过history对象进行对url地址的记录.</li>
</ul>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/router/" rel="tag"># router</a>
          
        </div>
      

      
        
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/05/16/219React-router/" rel="next" title="React-router">
                <i class="fa fa-chevron-left"></i> React-router
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/05/17/221React-router-Prompt/" rel="prev" title="React-router Prompt">
                React-router Prompt <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>

          
          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/uploads/avatar.jpg"
               alt="JiM-W" />
          <p class="site-author-name" itemprop="name">JiM-W</p>
           
              <p class="site-description motion-element" itemprop="description">keep fighting！</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">195</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">52</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">90</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-Route组件"><span class="nav-number">1.</span> <span class="nav-text">1 Route组件</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Route-props"><span class="nav-number">1.1.</span> <span class="nav-text">Route props</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#component"><span class="nav-number">1.2.</span> <span class="nav-text">component</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#render-func"><span class="nav-number">1.3.</span> <span class="nav-text">render: func</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#children-func"><span class="nav-number">1.4.</span> <span class="nav-text">children: func</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#path-string"><span class="nav-number">1.5.</span> <span class="nav-text">path: string</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#exact-bool"><span class="nav-number">1.6.</span> <span class="nav-text">exact: bool</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#strict-bool"><span class="nav-number">1.7.</span> <span class="nav-text">strict: bool</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-Demo案例"><span class="nav-number">2.</span> <span class="nav-text">2 Demo案例</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-Route组件会将history-location-match这三个对象传递给component-render-以及children中的props"><span class="nav-number">3.</span> <span class="nav-text">3 Route组件会将history  location   match这三个对象传递给component    render    以及children中的props</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-Routee组件作为路由根组件需要注意两点"><span class="nav-number">4.</span> <span class="nav-text">4 Routee组件作为路由根组件需要注意两点</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">JiM-W</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    
    
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  




  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.0"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  



  




	





  





  





  



  
  

  

  

  

  


  

</body>
</html>
